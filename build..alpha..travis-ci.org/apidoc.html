<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/bpmn-io/bpmn-js#readme"

    >bpmn-js (v0.20.5)</a>
</h1>
<h4>A bpmn 2.0 toolkit and web modeler</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js">module bpmn-js</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResize">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResize
            <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResizeProvider
            <span class="apidocSignatureSpan">(eventBus, modeling)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnEditorActions">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnEditorActions
            <span class="apidocSignatureSpan">( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnFactory
            <span class="apidocSignatureSpan">(moddle)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnGlobalConnect">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnGlobalConnect
            <span class="apidocSignatureSpan">(globalConnect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnImporter
            <span class="apidocSignatureSpan">(eventBus, canvas, elementFactory, elementRegistry, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnLayouter">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnLayouter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnOrderingProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnOrderingProvider
            <span class="apidocSignatureSpan">(eventBus, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRenderer
            <span class="apidocSignatureSpan">(eventBus, styles, pathMap, canvas, priority)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnReplacePreview">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnReplacePreview
            <span class="apidocSignatureSpan">(eventBus, elementRegistry, elementFactory, canvas, previewSupport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRules
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSearchProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSearchProvider
            <span class="apidocSignatureSpan">(elementRegistry, searchPad, canvas)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnapping">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnapping
            <span class="apidocSignatureSpan">(eventBus, canvas, bpmnRules, elementRegistry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnUpdater
            <span class="apidocSignatureSpan">(eventBus, bpmnFactory, connectionDocking, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ContextPadProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ContextPadProvider
            <span class="apidocSignatureSpan">(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ElementFactory
            <span class="apidocSignatureSpan">(bpmnFactory, moddle, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelEditingProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>LabelEditingProvider
            <span class="apidocSignatureSpan">(eventBus, canvas, directEditing, commandStack)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelCloneHelper">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneHelper
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling">
            function <span class="apidocSignatureSpan">bpmn-js.</span>Modeling
            <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack, bpmnRules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.PaletteProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>PaletteProvider
            <span class="apidocSignatureSpan">(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ReplaceMenuProvider
            <span class="apidocSignatureSpan">(popupMenu, modeling, moddle, bpmnReplace, rules, translate)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResize.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResizeProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnFactory.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnGlobalConnect.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnImporter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnLayouter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRenderer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRules.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSearchProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnapping.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnappingUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>BpmnUpdater.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ContextPadProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>DiUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ElementFactory.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>Importer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>LabelEditingProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>LabelUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneHelper.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneUtils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ModelUtil</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>Modeling.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>PaletteProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>ReplaceMenuProvider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.</span>Util</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnAutoResize">module bpmn-js.BpmnAutoResize</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResize.BpmnAutoResize">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResize
            <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResize.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResize.</span>super_
            <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnAutoResize.prototype">module bpmn-js.BpmnAutoResize.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResize.prototype.resize">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResize.prototype.</span>resize
            <span class="apidocSignatureSpan">(target, newBounds)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnAutoResizeProvider">module bpmn-js.BpmnAutoResizeProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.BpmnAutoResizeProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResizeProvider
            <span class="apidocSignatureSpan">(eventBus, modeling)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResizeProvider.</span>super_
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnAutoResizeProvider.prototype">module bpmn-js.BpmnAutoResizeProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.prototype.canResize">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResizeProvider.prototype.</span>canResize
            <span class="apidocSignatureSpan">(elements, target)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnEditorActions">module bpmn-js.BpmnEditorActions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnEditorActions.BpmnEditorActions">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnEditorActions
            <span class="apidocSignatureSpan">( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnEditorActions.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnEditorActions.</span>super_
            <span class="apidocSignatureSpan">(eventBus, commandStack, modeling, selection, zoomScroll, copyPaste, canvas, rules, mouseTracking)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnFactory">module bpmn-js.BpmnFactory</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.BpmnFactory">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnFactory
            <span class="apidocSignatureSpan">(moddle)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnFactory.prototype">module bpmn-js.BpmnFactory.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype._ensureId">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>_ensureId
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype._needsId">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>_needsId
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.create">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>create
            <span class="apidocSignatureSpan">(type, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiBounds">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiBounds
            <span class="apidocSignatureSpan">(bounds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiEdge">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiEdge
            <span class="apidocSignatureSpan">(semantic, waypoints, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiLabel">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiLabel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiPlane">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiPlane
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiShape">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiShape
            <span class="apidocSignatureSpan">(semantic, bounds, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoint">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiWaypoint
            <span class="apidocSignatureSpan">(point)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoints">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiWaypoints
            <span class="apidocSignatureSpan">(waypoints)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnGlobalConnect">module bpmn-js.BpmnGlobalConnect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnGlobalConnect.BpmnGlobalConnect">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnGlobalConnect
            <span class="apidocSignatureSpan">(globalConnect)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnGlobalConnect.prototype">module bpmn-js.BpmnGlobalConnect.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnGlobalConnect.prototype.canStartConnect">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnGlobalConnect.prototype.</span>canStartConnect
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnImporter">module bpmn-js.BpmnImporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.BpmnImporter">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnImporter
            <span class="apidocSignatureSpan">(eventBus, canvas, elementFactory, elementRegistry, translate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnImporter.prototype">module bpmn-js.BpmnImporter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype._attachBoundary">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_attachBoundary
            <span class="apidocSignatureSpan">(boundarySemantic, boundaryElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getElement">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getElement
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getEnd">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getEnd
            <span class="apidocSignatureSpan">(semantic, side)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getSource">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getSource
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getTarget">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getTarget
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype.add">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>add
            <span class="apidocSignatureSpan">(semantic, parentElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnImporter.prototype.addLabel">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>addLabel
            <span class="apidocSignatureSpan">(semantic, element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnLayouter">module bpmn-js.BpmnLayouter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnLayouter.BpmnLayouter">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnLayouter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnLayouter.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnLayouter.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnLayouter.prototype">module bpmn-js.BpmnLayouter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnLayouter.prototype.layoutConnection">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnLayouter.prototype.</span>layoutConnection
            <span class="apidocSignatureSpan">(connection, hints)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnOrderingProvider">module bpmn-js.BpmnOrderingProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnOrderingProvider.BpmnOrderingProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnOrderingProvider
            <span class="apidocSignatureSpan">(eventBus, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnOrderingProvider.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnOrderingProvider.</span>super_
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnRenderer">module bpmn-js.BpmnRenderer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.BpmnRenderer">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRenderer
            <span class="apidocSignatureSpan">(eventBus, styles, pathMap, canvas, priority)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.</span>super_
            <span class="apidocSignatureSpan">(eventBus, renderPriority)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnRenderer.prototype">module bpmn-js.BpmnRenderer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.canRender">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>canRender
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.drawConnection">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>drawConnection
            <span class="apidocSignatureSpan">(parentGfx, element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.drawShape">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>drawShape
            <span class="apidocSignatureSpan">(parentGfx, element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.getShapePath">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>getShapePath
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnReplacePreview">module bpmn-js.BpmnReplacePreview</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnReplacePreview.BpmnReplacePreview">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnReplacePreview
            <span class="apidocSignatureSpan">(eventBus, elementRegistry, elementFactory, canvas, previewSupport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnReplacePreview.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnReplacePreview.</span>super_
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnRules">module bpmn-js.BpmnRules</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.BpmnRules">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRules
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.</span>super_
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnRules.prototype">module bpmn-js.BpmnRules.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canAttach">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canAttach
            <span class="apidocSignatureSpan">(elements, target, source, position)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnect">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnect
            <span class="apidocSignatureSpan">(source, target, connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectAssociation">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectAssociation
            <span class="apidocSignatureSpan">(source, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectDataAssociation">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectDataAssociation
            <span class="apidocSignatureSpan">(source, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectMessageFlow">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectMessageFlow
            <span class="apidocSignatureSpan">(source, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectSequenceFlow">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectSequenceFlow
            <span class="apidocSignatureSpan">(source, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canCopy">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canCopy
            <span class="apidocSignatureSpan">(collection, element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canCreate">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canCreate
            <span class="apidocSignatureSpan">(shape, target, source, position)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canDrop">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canDrop
            <span class="apidocSignatureSpan">(element, target, position)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canInsert">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canInsert
            <span class="apidocSignatureSpan">(shape, flow, position)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canMove">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canMove
            <span class="apidocSignatureSpan">(elements, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canReplace">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canReplace
            <span class="apidocSignatureSpan">(elements, target, position)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.canResize">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canResize
            <span class="apidocSignatureSpan">(shape, newBounds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnRules.prototype.init">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnSearchProvider">module bpmn-js.BpmnSearchProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSearchProvider.BpmnSearchProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSearchProvider
            <span class="apidocSignatureSpan">(elementRegistry, searchPad, canvas)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnSearchProvider.prototype">module bpmn-js.BpmnSearchProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSearchProvider.prototype.find">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSearchProvider.prototype.</span>find
            <span class="apidocSignatureSpan">(pattern)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnSnapping">module bpmn-js.BpmnSnapping</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnapping.BpmnSnapping">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnapping
            <span class="apidocSignatureSpan">(eventBus, canvas, bpmnRules, elementRegistry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnapping.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.</span>super_
            <span class="apidocSignatureSpan">(eventBus, canvas)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnSnapping.prototype">module bpmn-js.BpmnSnapping.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnapping.prototype.addTargetSnaps">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.prototype.</span>addTargetSnaps
            <span class="apidocSignatureSpan">(snapPoints, shape, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnapping.prototype.initSnap">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.prototype.</span>initSnap
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnSnappingUtil">module bpmn-js.BpmnSnappingUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnappingUtil.getBoundaryAttachment">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSnappingUtil.</span>getBoundaryAttachment
            <span class="apidocSignatureSpan">(position, targetBounds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnSnappingUtil.getParticipantSizeConstraints">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnSnappingUtil.</span>getParticipantSizeConstraints
            <span class="apidocSignatureSpan">(laneShape, resizeDirection, balanced)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnUpdater">module bpmn-js.BpmnUpdater</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.BpmnUpdater">
            function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnUpdater
            <span class="apidocSignatureSpan">(eventBus, bpmnFactory, connectionDocking, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.super_">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.</span>super_
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.BpmnUpdater.prototype">module bpmn-js.BpmnUpdater.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype._getLabel">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>_getLabel
            <span class="apidocSignatureSpan">(di)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.getLaneSet">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>getLaneSet
            <span class="apidocSignatureSpan">(container)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateAttachment">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateAttachment
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateBounds">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateBounds
            <span class="apidocSignatureSpan">(shape)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnection">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateConnection
            <span class="apidocSignatureSpan">(context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnectionWaypoints">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateConnectionWaypoints
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiConnection">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateDiConnection
            <span class="apidocSignatureSpan">(di, newSource, newTarget)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiParent">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateDiParent
            <span class="apidocSignatureSpan">(di, parentDi)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateFlowNodeRefs">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateFlowNodeRefs
            <span class="apidocSignatureSpan">(businessObject, newContainment, oldContainment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateParent">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateParent
            <span class="apidocSignatureSpan">(element, oldParent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateSemanticParent">
            function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateSemanticParent
            <span class="apidocSignatureSpan">(businessObject, newParent, visualParent)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ContextPadProvider">module bpmn-js.ContextPadProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ContextPadProvider.ContextPadProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ContextPadProvider
            <span class="apidocSignatureSpan">(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ContextPadProvider.prototype">module bpmn-js.ContextPadProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ContextPadProvider.prototype.getContextPadEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ContextPadProvider.prototype.</span>getContextPadEntries
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.DiUtil">module bpmn-js.DiUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.hasCompensateEventDefinition">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasCompensateEventDefinition
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.hasErrorEventDefinition">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasErrorEventDefinition
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.hasEscalationEventDefinition">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasEscalationEventDefinition
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.hasEventDefinition">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasEventDefinition
            <span class="apidocSignatureSpan">(element, eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.isEventSubProcess">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isEventSubProcess
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.isExpanded">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isExpanded
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.DiUtil.isInterrupting">
            function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isInterrupting
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ElementFactory">module bpmn-js.ElementFactory</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.ElementFactory">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ElementFactory
            <span class="apidocSignatureSpan">(bpmnFactory, moddle, translate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.super_">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ElementFactory.prototype">module bpmn-js.ElementFactory.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.prototype._getDefaultSize">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>_getDefaultSize
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.prototype.baseCreate">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>baseCreate
            <span class="apidocSignatureSpan">(type, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.prototype.create">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>create
            <span class="apidocSignatureSpan">(elementType, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.prototype.createBpmnElement">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>createBpmnElement
            <span class="apidocSignatureSpan">(elementType, attrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ElementFactory.prototype.createParticipantShape">
            function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>createParticipantShape
            <span class="apidocSignatureSpan">(collapsed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.Importer">module bpmn-js.Importer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Importer.importBpmnDiagram">
            function <span class="apidocSignatureSpan">bpmn-js.Importer.</span>importBpmnDiagram
            <span class="apidocSignatureSpan">(diagram, definitions, done)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.LabelEditingProvider">module bpmn-js.LabelEditingProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelEditingProvider.LabelEditingProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>LabelEditingProvider
            <span class="apidocSignatureSpan">(eventBus, canvas, directEditing, commandStack)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.LabelEditingProvider.prototype">module bpmn-js.LabelEditingProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.activate">
            function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>activate
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.getEditingBBox">
            function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>getEditingBBox
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.update">
            function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>update
            <span class="apidocSignatureSpan">(element, newLabel)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.LabelUtil">module bpmn-js.LabelUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelUtil.getExternalLabelBounds">
            function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getExternalLabelBounds
            <span class="apidocSignatureSpan">(semantic, element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelUtil.getExternalLabelMid">
            function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getExternalLabelMid
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelUtil.getFlowLabelPosition">
            function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getFlowLabelPosition
            <span class="apidocSignatureSpan">(waypoints)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelUtil.getWaypointsMid">
            function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getWaypointsMid
            <span class="apidocSignatureSpan">(waypoints)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.LabelUtil.hasExternalLabel">
            function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>hasExternalLabel
            <span class="apidocSignatureSpan">(semantic)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>FLOW_LABEL_INDENT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>DEFAULT_LABEL_SIZE</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ModelCloneHelper">module bpmn-js.ModelCloneHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelCloneHelper.ModelCloneHelper">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneHelper
            <span class="apidocSignatureSpan">(eventBus)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ModelCloneHelper.prototype">module bpmn-js.ModelCloneHelper.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelCloneHelper.prototype._deepClone">
            function <span class="apidocSignatureSpan">bpmn-js.ModelCloneHelper.prototype.</span>_deepClone
            <span class="apidocSignatureSpan">(propertyElement, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelCloneHelper.prototype.clone">
            function <span class="apidocSignatureSpan">bpmn-js.ModelCloneHelper.prototype.</span>clone
            <span class="apidocSignatureSpan">(refElement, newElement, properties)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ModelCloneUtils">module bpmn-js.ModelCloneUtils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelCloneUtils.getProperties">
            function <span class="apidocSignatureSpan">bpmn-js.ModelCloneUtils.</span>getProperties
            <span class="apidocSignatureSpan">(descriptor, keepDefault)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn-js.ModelCloneUtils.</span>IGNORED_PROPERTIES</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ModelUtil">module bpmn-js.ModelUtil</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelUtil.getBusinessObject">
            function <span class="apidocSignatureSpan">bpmn-js.ModelUtil.</span>getBusinessObject
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ModelUtil.is">
            function <span class="apidocSignatureSpan">bpmn-js.ModelUtil.</span>is
            <span class="apidocSignatureSpan">(element, type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.Modeling">module bpmn-js.Modeling</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.Modeling">
            function <span class="apidocSignatureSpan">bpmn-js.</span>Modeling
            <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack, bpmnRules)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.super_">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.</span>super_
            <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.Modeling.prototype">module bpmn-js.Modeling.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.addLane">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>addLane
            <span class="apidocSignatureSpan">(targetLaneShape, location)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.claimId">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>claimId
            <span class="apidocSignatureSpan">(id, moddleElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.connect">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>connect
            <span class="apidocSignatureSpan">(source, target, attrs, hints)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.getHandlers">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>getHandlers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.makeCollaboration">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>makeCollaboration
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.makeProcess">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>makeProcess
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.resizeLane">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>resizeLane
            <span class="apidocSignatureSpan">(laneShape, newBounds, balanced)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.setColor">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>setColor
            <span class="apidocSignatureSpan">(elements, colors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.splitLane">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>splitLane
            <span class="apidocSignatureSpan">(targetLane, count)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.unclaimId">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>unclaimId
            <span class="apidocSignatureSpan">(id, moddleElement)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.updateLabel">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateLabel
            <span class="apidocSignatureSpan">(element, newLabel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.updateLaneRefs">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateLaneRefs
            <span class="apidocSignatureSpan">(flowNodeShapes, laneShapes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Modeling.prototype.updateProperties">
            function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateProperties
            <span class="apidocSignatureSpan">(element, properties)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.PaletteProvider">module bpmn-js.PaletteProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.PaletteProvider.PaletteProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>PaletteProvider
            <span class="apidocSignatureSpan">(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.PaletteProvider.prototype">module bpmn-js.PaletteProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.PaletteProvider.prototype.getPaletteEntries">
            function <span class="apidocSignatureSpan">bpmn-js.PaletteProvider.prototype.</span>getPaletteEntries
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ReplaceMenuProvider">module bpmn-js.ReplaceMenuProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.ReplaceMenuProvider">
            function <span class="apidocSignatureSpan">bpmn-js.</span>ReplaceMenuProvider
            <span class="apidocSignatureSpan">(popupMenu, modeling, moddle, bpmnReplace, rules, translate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.ReplaceMenuProvider.prototype">module bpmn-js.ReplaceMenuProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createEntries
            <span class="apidocSignatureSpan">(element, replaceOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createMenuEntry">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createMenuEntry
            <span class="apidocSignatureSpan">(definition, element, action)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createSequenceFlowEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createSequenceFlowEntries
            <span class="apidocSignatureSpan">(element, replaceOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getAdHocEntry">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_getAdHocEntry
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getLoopEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_getLoopEntries
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>getEntries
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getHeaderEntries">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>getHeaderEntries
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.register">
            function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>register
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn-js.Util">module bpmn-js.Util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn-js.Util.elementToString">
            function <span class="apidocSignatureSpan">bpmn-js.Util.</span>elementToString
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js" id="apidoc.module.bpmn-js">module bpmn-js</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResize" id="apidoc.element.bpmn-js.BpmnAutoResize">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResize
        <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnAutoResize(eventBus, elementRegistry, modeling, rules) {
  AutoResize.call(this, eventBus, elementRegistry, modeling, rules);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider" id="apidoc.element.bpmn-js.BpmnAutoResizeProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResizeProvider
        <span class="apidocSignatureSpan">(eventBus, modeling)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnAutoResizeProvider(eventBus, modeling) {
  AutoResizeProvider.call(this, eventBus);

  this._modeling = modeling;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnEditorActions" id="apidoc.element.bpmn-js.BpmnEditorActions">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnEditorActions
        <span class="apidocSignatureSpan">( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnEditorActions( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling) {

  injector.invoke(EditorActions, this);

  this.register({
    selectElements: function() {
      // select all elements except for the invisible
      // root element
      var rootElement = canvas.getRootElement();

      var elements = elementRegistry.filter(function(element) {
        return element !== rootElement;
      });

      selection.select(elements);

      return elements;
    },
    spaceTool: function() {
      spaceTool.toggle();
    },
    lassoTool: function() {
      lassoTool.toggle();
    },
    handTool: function() {
      handTool.toggle();
    },
    globalConnectTool: function() {
      globalConnect.toggle();
    },
    distributeElements: function(opts) {
      var currentSelection = selection.get(),
          type = opts.type;

      if (currentSelection.length) {
        distributeElements.trigger(currentSelection, type);
      }
    },
    alignElements: function(opts) {
      var currentSelection = selection.get(),
          aligneableElements = [],
          type = opts.type;

      if (currentSelection.length) {
        aligneableElements = filter(currentSelection, function(element) {
          return !is(element, &#x27;bpmn:Lane&#x27;);
        });

        alignElements.trigger(aligneableElements, type);
      }
    },
    setColor: function(opts) {
      var currentSelection = selection.get();

      if (currentSelection.length) {
        modeling.setColor(currentSelection, opts);
      }
    },
    directEditing: function() {
      var currentSelection = selection.get();

      if (currentSelection.length) {
        directEditing.activate(currentSelection[0]);
      }
    },
    find: function() {
      searchPad.toggle();
    },
    moveToOrigin: function() {
      var rootElement = canvas.getRootElement(),
          boundingBox,
          elements;

      if (is(rootElement, &#x27;bpmn:Collaboration&#x27;)) {
        elements = elementRegistry.filter(function(element) {
          return is(element.parent, &#x27;bpmn:Collaboration&#x27;);
        });
      } else {
        elements = elementRegistry.filter(function(element) {
          return element !== rootElement &#x26;&#x26; !is(element.parent, &#x27;bpmn:SubProcess&#x27;);
        });
      }

      boundingBox = getBBox(elements);

      modeling.moveElements(elements, { x: -boundingBox.x, y: -boundingBox.y }, rootElement);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory" id="apidoc.element.bpmn-js.BpmnFactory">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnFactory
        <span class="apidocSignatureSpan">(moddle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnFactory(moddle) {
  this._model = moddle;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnGlobalConnect" id="apidoc.element.bpmn-js.BpmnGlobalConnect">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnGlobalConnect
        <span class="apidocSignatureSpan">(globalConnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnGlobalConnect(globalConnect) {
  globalConnect.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter" id="apidoc.element.bpmn-js.BpmnImporter">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnImporter
        <span class="apidocSignatureSpan">(eventBus, canvas, elementFactory, elementRegistry, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnImporter(eventBus, canvas, elementFactory, elementRegistry, translate) {
  this._eventBus = eventBus;
  this._canvas = canvas;

  this._elementFactory = elementFactory;
  this._elementRegistry = elementRegistry;
  this._translate = translate;

  this._textUtil = new TextUtil();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnLayouter" id="apidoc.element.bpmn-js.BpmnLayouter">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnLayouter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnLayouter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnOrderingProvider" id="apidoc.element.bpmn-js.BpmnOrderingProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnOrderingProvider
        <span class="apidocSignatureSpan">(eventBus, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnOrderingProvider(eventBus, translate) {

  OrderingProvider.call(this, eventBus);

  var orders = [
    { type: &#x27;bpmn:SubProcess&#x27;, order: { level: 6 } },
    {
      type: &#x27;bpmn:SequenceFlow&#x27;,
      order: {
        level: 5,
        containers: [
          &#x27;bpmn:Participant&#x27;,
          &#x27;bpmn:FlowElementsContainer&#x27;
        ]
      }
    },
    // handle DataAssociation(s) like message flows and render them always on top
    { type: &#x27;bpmn:DataAssociation&#x27;, order: { level: 9, containers: [ &#x27;bpmn:Collaboration&#x27;, &#x27;bpmn:Process&#x27; ] } },
    { type: &#x27;bpmn:MessageFlow&#x27;, order: { level: 9, containers: [ &#x27;bpmn:Collaboration&#x27; ] } },
    {
      type: &#x27;bpmn:Association&#x27;,
      order: {
        level: 6,
        containers: [
          &#x27;bpmn:Participant&#x27;,
          &#x27;bpmn:FlowElementsContainer&#x27;,
          &#x27;bpmn:Collaboration&#x27;
        ]
      }
    },
    { type: &#x27;bpmn:BoundaryEvent&#x27;, order: { level: 8 } },
    { type: &#x27;bpmn:Participant&#x27;, order: { level: -2 } },
    { type: &#x27;bpmn:Lane&#x27;, order: { level: -1 } }
  ];

  function computeOrder(element) {
    if (element.labelTarget) {
      return { level: 10 };
    }

    var entry = find(orders, function(o) {
      return isAny(element, [ o.type ]);
    });

    return entry &#x26;&#x26; entry.order || { level: 1 };
  }

  function getOrder(element) {

    var order = element.order;

    if (!order) {
      element.order = order = computeOrder(element);
    }

    return order;
  }

  function findActualParent(element, newParent, containers) {

    var actualParent = newParent;

    while (actualParent) {

      if (isAny(actualParent, containers)) {
        break;
      }

      actualParent = actualParent.parent;
    }

    if (!actualParent) {
      throw new Error(translate(&#x27;no parent for {element} in {parent}&#x27;, {
        element: element.id,
        parent: newParent.id
      }));
    }

    return actualParent;
  }

  this.getOrdering = function(element, newParent) {

    var elementOrder = getOrder(element);


    if (elementOrder.containers) {
      newParent = findActualParent(element, newParent, elementOrder.containers);
    }


    var currentIndex = newParent.children.indexOf(element);

    var insertIndex = findIndex(newParent.children, function(child) {

      // do not compare with labels, they are created
      // in the wrong order (right after elements) during import and
      // mess up the positioning.
      if (!element.labelTarget &#x26;&#x26; child.labelTarget) {
        return false;
      }

      return elementOrder.level &#x3c; getOrder(child).level;
    });


    // if the element is already in the child list at
    // a smaller index, we need to adjust the inser index.
    // this takes into account that the element is being removed
    // before being re-inserted
    if (insertIndex !== -1) {
      if (currentIndex !== -1 &#x26;&#x26; currentIndex &#x3c; insertIndex) {
        insertIndex -= 1;
      }
    }

    return {
      index: insertIndex,
      parent: newParent
    };
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer" id="apidoc.element.bpmn-js.BpmnRenderer">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRenderer
        <span class="apidocSignatureSpan">(eventBus, styles, pathMap, canvas, priority)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnRenderer(eventBus, styles, pathMap, canvas, priority) {

  BaseRenderer.call(this, eventBus, priority);

  var textUtil = new TextUtil({
    style: LABEL_STYLE,
    size: { width: 100 }
  });

  var markers = {};

  var computeStyle = styles.computeStyle;

  function addMarker(id, options) {
    var attrs = assign({
      fill: &#x27;black&#x27;,
      strokeWidth: 1,
      strokeLinecap: &#x27;round&#x27;,
      strokeDasharray: &#x27;none&#x27;
    }, options.attrs);

    var ref = options.ref || { x: 0, y: 0 };

    var scale = options.scale || 1;

    // fix for safari / chrome / firefox bug not correctly
    // resetting stroke dash array
    if (attrs.strokeDasharray === &#x27;none&#x27;) {
      attrs.strokeDasharray = [10000, 1];
    }

    var marker = svgCreate(&#x27;marker&#x27;);

    svgAttr(options.element, attrs);

    svgAppend(marker, options.element);

    svgAttr(marker, {
      id: id,
      viewBox: &#x27;0 0 20 20&#x27;,
      refX: ref.x,
      refY: ref.y,
      markerWidth: 20 * scale,
      markerHeight: 20 * scale,
      orient: &#x27;auto&#x27;
    });

    var defs = domQuery(&#x27;defs&#x27;, canvas._svg);

    if (!defs) {
      defs = svgCreate(&#x27;defs&#x27;);

      svgAppend(canvas._svg, defs);
    }

    svgAppend(defs, marker);

    markers[id] = marker;
  }

  function marker(type, fill, stroke) {
    var id = type + &#x27;-&#x27; + fill + &#x27;-&#x27; + stroke;

    if (!markers[id]) {
      createMarker(type, fill, stroke);
    }

    return &#x27;url(#&#x27; + id +  &#x27;)&#x27;;
  }

  function createMarker(type, fill, stroke) {
    var id = type + &#x27;-&#x27; + fill + &#x27;-&#x27; + stroke;

    if (type === &#x27;sequenceflow-end&#x27;) {
      var sequenceflowEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(sequenceflowEnd, { d: &#x27;M 1 5 L 11 10 L 1 15 Z&#x27; });

      addMarker(id, {
        element: sequenceflowEnd,
        ref: { x: 11, y: 10 },
        scale: 0.5,
        attrs: {
          fill: stroke,
          stroke: stroke
        }
      });
    }

    if (type === &#x27;messageflow-start&#x27;) {
      var messageflowStart = svgCreate(&#x27;circle&#x27;);
      svgAttr(messageflowStart, { cx: 6, cy: 6, r: 3.5 });

      addMarker(id, {
        element: messageflowStart,
        attrs: {
          fill: fill,
          stroke: stroke
        },
        ref: { x: 6, y: 6 }
      });
    }

    if (type === &#x27;messageflow-end&#x27;) {
      var messageflowEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(messageflowEnd, { d: &#x27;m 1 5 l 0 -3 l 7 3 l -7 3 z&#x27; });

      addMarker(id, {
        element: messageflowEnd,
        attrs: {
          fill: fill,
          stroke: stroke,
          strokeLinecap: &#x27;butt&#x27;
        },
        ref: { x: 8.5, y: 5 }
      });
    }

    if (type === &#x27;association-start&#x27;) {
      var associationStart = svgCreate(&#x27;path&#x27;);
      svgAttr(associationStart, { d: &#x27;M 11 5 L 1 10 L 11 15&#x27; });

      addMarker(id, {
        element: associationStart,
        attrs: {
          fill: &#x27;none&#x27;,
          stroke: stroke,
          strokeWidth: 1.5
        },
        ref: { x: 1, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;association-end&#x27;) {
      var associationEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(associationEnd, { d: &#x27;M 1 5 L 11 10 L 1 15&#x27; });

      addMarker(id, {
        element: associationEnd,
        attrs: {
          fill: &#x27;none&#x27;,
          stroke: stroke,
          strokeWidth: 1.5
        },
        ref: { x: 12, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;conditional-flow-marker&#x27;) {
      var conditionalflowMarker = svgCreate(&#x27;path&#x27;);
      svgAttr(conditionalflowMarker, { d: &#x27;M 0 10 L 8 6 L 16 10 L 8 14 Z&#x27; });

      addMarker(id, {
        element: conditionalflowMarker,
        attrs: {
          fill: fill,
          stroke: stroke
        },
        ref: { x: -1, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;conditional-default-flow-marker&#x27;) {
      var conditionaldefaultflowMarker = svgCreate(&#x27;path&#x27;);
      svgAttr(conditionaldefaultflowMarker, { d: &#x27;M 6 4 L 10 16&#x27; });

      addMarker(id, {
        element: conditionaldefaultflowMarker,
        attrs: {
          stroke: stroke
        },
        ref: { x: 0, y: 10 },
        scale: 0.5
      });
    }
  }

  funct ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnReplacePreview" id="apidoc.element.bpmn-js.BpmnReplacePreview">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnReplacePreview
        <span class="apidocSignatureSpan">(eventBus, elementRegistry, elementFactory, canvas, previewSupport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnReplacePreview(eventBus, elementRegistry, elementFactory, canvas, previewSupport) {

  CommandInterceptor.call(this, eventBus);

<span class="apidocCodeCommentSpan">  /**
   * Replace the visuals of all elements in the context which can be replaced
   *
   * @param  {Object} context
   */
</span>  function replaceVisual(context) {

    var replacements = context.canExecute.replacements;

    forEach(replacements, function(replacement) {

      var id = replacement.oldElementId;

      var newElement = {
        type: replacement.newElementType
      };

      // if the visual of the element is already replaced
      if (context.visualReplacements[id]) {
        return;
      }

      var element = elementRegistry.get(id);

      assign(newElement, { x: element.x, y: element.y });

      // create a temporary shape
      var tempShape = elementFactory.createShape(newElement);

      canvas.addShape(tempShape, element.parent);

      // select the original SVG element related to the element and hide it
      var gfx = domQuery(&#x27;[data-element-id=&#x27; + element.id + &#x27;]&#x27;, context.dragGroup);

      if (gfx) {
        svgAttr(gfx, { display: &#x27;none&#x27; });
      }

      // clone the gfx of the temporary shape and add it to the drag group
      var dragger = previewSupport.addDragger(tempShape, context.dragGroup);

      context.visualReplacements[id] = dragger;

      canvas.removeShape(tempShape);
    });
  }

  /**
   * Restore the original visuals of the previously replaced elements
   *
   * @param  {Object} context
   */
  function restoreVisual(context) {

    var visualReplacements = context.visualReplacements;

    forEach(visualReplacements, function(dragger, id) {

      var originalGfx = domQuery(&#x27;[data-element-id=&#x27; + id + &#x27;]&#x27;, context.dragGroup);

      if (originalGfx) {
        svgAttr(originalGfx, { display: &#x27;inline&#x27; });
      }

      dragger.remove();

      if (visualReplacements[id]) {
        delete visualReplacements[id];
      }
    });
  }

  eventBus.on(&#x27;shape.move.move&#x27;, LOW_PRIORITY, function(event) {

    var context = event.context,
        canExecute = context.canExecute;

    if (!context.visualReplacements) {
      context.visualReplacements = {};
    }

    if (canExecute.replacements) {
      replaceVisual(context);
    } else {
      restoreVisual(context);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules" id="apidoc.element.bpmn-js.BpmnRules">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRules
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnRules(eventBus) {
  RuleProvider.call(this, eventBus);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSearchProvider" id="apidoc.element.bpmn-js.BpmnSearchProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSearchProvider
        <span class="apidocSignatureSpan">(elementRegistry, searchPad, canvas)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnSearchProvider(elementRegistry, searchPad, canvas) {

  this._elementRegistry = elementRegistry;
  this._canvas = canvas;

  searchPad.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnapping" id="apidoc.element.bpmn-js.BpmnSnapping">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnapping
        <span class="apidocSignatureSpan">(eventBus, canvas, bpmnRules, elementRegistry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnSnapping(eventBus, canvas, bpmnRules, elementRegistry) {

  // instantiate super
  Snapping.call(this, eventBus, canvas);


<span class="apidocCodeCommentSpan">  /**
   * Drop participant on process &#x3c;&#x3e; process elements snapping
   */
</span>  eventBus.on(&#x27;create.start&#x27;, function(event) {

    var context = event.context,
        shape = context.shape,
        rootElement = canvas.getRootElement();

    // snap participant around existing elements (if any)
    if (is(shape, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(rootElement, &#x27;bpmn:Process&#x27;)) {
      initParticipantSnapping(context, shape, rootElement.children);
    }
  });

  eventBus.on([ &#x27;create.move&#x27;, &#x27;create.end&#x27; ], HIGH_PRIORITY, function(event) {

    var context = event.context,
        shape = context.shape,
        participantSnapBox = context.participantSnapBox;

    if (!isSnapped(event) &#x26;&#x26; participantSnapBox) {
      snapParticipant(participantSnapBox, shape, event);
    }
  });

  eventBus.on(&#x27;shape.move.start&#x27;, function(event) {

    var context = event.context,
        shape = context.shape,
        rootElement = canvas.getRootElement();

    // snap participant around existing elements (if any)
    if (is(shape, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(rootElement, &#x27;bpmn:Process&#x27;)) {
      initParticipantSnapping(context, shape, rootElement.children);
    }
  });


  function canAttach(shape, target, position) {
    return bpmnRules.canAttach([ shape ], target, null, position) === &#x27;attach&#x27;;
  }

  function canConnect(source, target) {
    return bpmnRules.canConnect(source, target);
  }

  /**
   * Snap boundary events to elements border
   */
  eventBus.on([
    &#x27;create.move&#x27;,
    &#x27;create.end&#x27;,
    &#x27;shape.move.move&#x27;,
    &#x27;shape.move.end&#x27;
  ], HIGH_PRIORITY, function(event) {

    var context = event.context,
        target = context.target,
        shape = context.shape;

    if (target &#x26;&#x26; !isSnapped(event) &#x26;&#x26; canAttach(shape, target, event)) {
      snapBoundaryEvent(event, shape, target);
    }
  });

  /**
   * Adjust parent for flowElements to the target participant
   * when droping onto lanes.
   */
  eventBus.on([
    &#x27;shape.move.hover&#x27;,
    &#x27;shape.move.move&#x27;,
    &#x27;shape.move.end&#x27;,
    &#x27;create.hover&#x27;,
    &#x27;create.move&#x27;,
    &#x27;create.end&#x27;
  ], HIGH_PRIORITY, function(event) {
    var context = event.context,
        shape = context.shape,
        hover = event.hover;

    if (is(hover, &#x27;bpmn:Lane&#x27;) &#x26;&#x26; !isAny(shape, [ &#x27;bpmn:Lane&#x27;, &#x27;bpmn:Participant&#x27; ])) {
      event.hover = getLanesRoot(hover);
      event.hoverGfx = elementRegistry.getGraphics(event.hover);
    }
  });

  /**
   * Snap sequence flows.
   */
  eventBus.on([
    &#x27;connect.move&#x27;,
    &#x27;connect.hover&#x27;,
    &#x27;connect.end&#x27;
  ], HIGH_PRIORITY, function(event) {
    var context = event.context,
        source = context.source,
        target = context.target;

    var connection = canConnect(source, target) || {};

    if (!context.initialSourcePosition) {
      context.initialSourcePosition = context.sourcePosition;
    }

    if (target &#x26;&#x26; connection.type === &#x27;bpmn:SequenceFlow&#x27;) {

      // snap source
      context.sourcePosition = mid(source);

      // snap target
      assign(event, mid(target));
    } else {

      // otherwise reset source snap
      context.sourcePosition = context.initialSourcePosition;
    }

  });


  eventBus.on([
    &#x27;create.move&#x27;,
    &#x27;shape.move.move&#x27;
  ], function(event) {

    var context = event.context,
        shape = context.shape,
        target = context.target;

    var threshold = 30;

    if (is(shape, &#x27;bpmn:Lane&#x27;)) {
      if (isAny(target, [ &#x27;bpmn:Lane&#x27;, &#x27;bpmn:Participant&#x27; ])) {

        var childLanes = filter(target.children, function(c) {
          return is(c, &#x27;bpmn:Lane&#x27;);
        });

        var y = event.y,
            targetTrbl;

        var insert = childLanes.reduce(function(insert, l) {

          var laneTrbl = asTRBL(l);

          if (abs(laneTrbl.top - y) &#x3c; threshold) {
            insert = assign(insert || {}, { before: { element: l, y: laneTrbl.top } });
          } else
          if (abs(laneTrbl.bottom - y) &#x3c; threshold) {
            insert = assign(insert || {}, { after: { element: ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater" id="apidoc.element.bpmn-js.BpmnUpdater">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnUpdater
        <span class="apidocSignatureSpan">(eventBus, bpmnFactory, connectionDocking, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnUpdater(eventBus, bpmnFactory, connectionDocking, translate) {

  CommandInterceptor.call(this, eventBus);

  this._bpmnFactory = bpmnFactory;
  this._translate = translate;

  var self = this;



  ////// connection cropping /////////////////////////

  // crop connection ends during create/update
  function cropConnection(e) {
    var context = e.context,
        connection;

    if (!context.cropped) {
      connection = context.connection;
      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);
      context.cropped = true;
    }
  }

  this.executed([
    &#x27;connection.layout&#x27;,
    &#x27;connection.create&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], cropConnection);

  this.reverted([ &#x27;connection.layout&#x27; ], function(e) {
    delete e.context.cropped;
  });



  ////// BPMN + DI update /////////////////////////


  // update parent
  function updateParent(e) {
    var context = e.context;

    self.updateParent(context.shape || context.connection, context.oldParent);
  }

  function reverseUpdateParent(e) {
    var context = e.context;

    var element = context.shape || context.connection,
        // oldParent is the (old) new parent, because we are undoing
        oldParent = context.parent || context.newParent;

    self.updateParent(element, oldParent);
  }

  this.executed([ &#x27;shape.move&#x27;,
                  &#x27;shape.create&#x27;,
                  &#x27;shape.delete&#x27;,
                  &#x27;connection.create&#x27;,
                  &#x27;connection.move&#x27;,
                  &#x27;connection.delete&#x27; ], ifBpmn(updateParent));

  this.reverted([ &#x27;shape.move&#x27;,
                  &#x27;shape.create&#x27;,
                  &#x27;shape.delete&#x27;,
                  &#x27;connection.create&#x27;,
                  &#x27;connection.move&#x27;,
                  &#x27;connection.delete&#x27; ], ifBpmn(reverseUpdateParent));

<span class="apidocCodeCommentSpan">  /*
   * ## Updating Parent
   *
   * When morphing a Process into a Collaboration or vice-versa,
   * make sure that both the *semantic* and *di* parent of each element
   * is updated.
   *
   */
</span>  function updateRoot(event) {
    var context = event.context,
        oldRoot = context.oldRoot,
        children = oldRoot.children;

    forEach(children, function(child) {
      if (is(child, &#x27;bpmn:BaseElement&#x27;)) {
        self.updateParent(child);
      }
    });
  }

  this.executed([ &#x27;canvas.updateRoot&#x27; ], updateRoot);
  this.reverted([ &#x27;canvas.updateRoot&#x27; ], updateRoot);


  // update bounds
  function updateBounds(e) {
    var shape = e.context.shape;

    if (!is(shape, &#x27;bpmn:BaseElement&#x27;)) {
      return;
    }

    self.updateBounds(shape);
  }

  this.executed([ &#x27;shape.move&#x27;, &#x27;shape.create&#x27;, &#x27;shape.resize&#x27; ], ifBpmn(function(event) {

    // exclude labels because they&#x27;re handled separately during shape.changed
    if (event.context.shape.type === &#x27;label&#x27;) {
      return;
    }

    updateBounds(event);
  }));

  this.reverted([ &#x27;shape.move&#x27;, &#x27;shape.create&#x27;, &#x27;shape.resize&#x27; ], ifBpmn(function(event) {

    // exclude labels because they&#x27;re handled separately during shape.changed
    if (event.context.shape.type === &#x27;label&#x27;) {
      return;
    }

    updateBounds(event);
  }));

  // Handle labels separately. This is necessary, because the label bounds have to be updated
  // every time its shape changes, not only on move, create and resize.
  eventBus.on(&#x27;shape.changed&#x27;, function(event) {
    if (event.element.type === &#x27;label&#x27;) {
      updateBounds({ context: { shape: event.element } });
    }
  });

  // attach / detach connection
  function updateConnection(e) {
    self.updateConnection(e.context);
  }

  this.executed([
    &#x27;connection.create&#x27;,
    &#x27;connection.move&#x27;,
    &#x27;connection.delete&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], ifBpmn(updateConnection));

  this.reverted([
    &#x27;connection.create&#x27;,
    &#x27;connection.move&#x27;,
    &#x27;connection.delete&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], ifBpmn(updateConnection));


  // update waypoints
  function updateConnectionWaypoints(e) {
    self.updateConnectionWaypoints(e.context.connection);
  }

  this.executed([ ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ContextPadProvider" id="apidoc.element.bpmn-js.ContextPadProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ContextPadProvider
        <span class="apidocSignatureSpan">(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ContextPadProvider(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate) {

  contextPad.registerProvider(this);

  this._contextPad = contextPad;

  this._modeling = modeling;

  this._elementFactory = elementFactory;
  this._connect = connect;
  this._create = create;
  this._popupMenu = popupMenu;
  this._canvas  = canvas;
  this._rules = rules;
  this._translate = translate;


  eventBus.on(&#x27;create.end&#x27;, 250, function(event) {
    var shape = event.context.shape;

    if (!hasPrimaryModifier(event)) {
      return;
    }

    var entries = contextPad.getEntries(shape);

    if (entries.replace) {
      entries.replace.action.click(event, shape);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory" id="apidoc.element.bpmn-js.ElementFactory">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ElementFactory
        <span class="apidocSignatureSpan">(bpmnFactory, moddle, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementFactory(bpmnFactory, moddle, translate) {
  BaseElementFactory.call(this);

  this._bpmnFactory = bpmnFactory;
  this._moddle = moddle;
  this._translate = translate;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelEditingProvider" id="apidoc.element.bpmn-js.LabelEditingProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>LabelEditingProvider
        <span class="apidocSignatureSpan">(eventBus, canvas, directEditing, commandStack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LabelEditingProvider(eventBus, canvas, directEditing, commandStack) {

  this._canvas = canvas;
  this._commandStack = commandStack;

  directEditing.registerProvider(this);

  commandStack.registerHandler(&#x27;element.updateLabel&#x27;, UpdateLabelHandler);

  // listen to dblclick on non-root elements
  eventBus.on(&#x27;element.dblclick&#x27;, function(event) {
    directEditing.activate(event.element);
  });

  // complete on followup canvas operation
  eventBus.on([ &#x27;element.mousedown&#x27;, &#x27;drag.init&#x27;, &#x27;canvas.viewbox.changed&#x27; ], function(event) {
    directEditing.complete();
  });

  // cancel on command stack changes
  eventBus.on([ &#x27;commandStack.changed&#x27; ], function() {
    directEditing.cancel();
  });


  if (&#x27;ontouchstart&#x27; in document.documentElement) {
    // we deactivate automatic label editing on mobile devices
    // as it breaks the user interaction workflow

    // TODO(nre): we should temporarily focus the edited element here
    // and release the focused viewport after the direct edit operation is finished
  } else {
    eventBus.on(&#x27;create.end&#x27;, 500, function(e) {

      var element = e.shape,
          canExecute = e.context.canExecute;

      if (!canExecute) {
        return;
      }

      if (is(element, &#x27;bpmn:Task&#x27;) || is(element, &#x27;bpmn:TextAnnotation&#x27;) ||
          (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26; !isExpanded(element))) {

        directEditing.activate(element);
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ModelCloneHelper" id="apidoc.element.bpmn-js.ModelCloneHelper">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneHelper
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ModelCloneHelper(eventBus) {
  this._eventBus = eventBus;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling" id="apidoc.element.bpmn-js.Modeling">
        function <span class="apidocSignatureSpan">bpmn-js.</span>Modeling
        <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack, bpmnRules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Modeling(eventBus, elementFactory, commandStack, bpmnRules) {
  BaseModeling.call(this, eventBus, elementFactory, commandStack);

  this._bpmnRules = bpmnRules;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.PaletteProvider" id="apidoc.element.bpmn-js.PaletteProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>PaletteProvider
        <span class="apidocSignatureSpan">(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PaletteProvider(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate) {

  this._palette = palette;
  this._create = create;
  this._elementFactory = elementFactory;
  this._spaceTool = spaceTool;
  this._lassoTool = lassoTool;
  this._handTool = handTool;
  this._globalConnect = globalConnect;
  this._translate = translate;

  palette.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider" id="apidoc.element.bpmn-js.ReplaceMenuProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ReplaceMenuProvider
        <span class="apidocSignatureSpan">(popupMenu, modeling, moddle, bpmnReplace, rules, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReplaceMenuProvider(popupMenu, modeling, moddle, bpmnReplace, rules, translate) {

  this._popupMenu = popupMenu;
  this._modeling = modeling;
  this._moddle = moddle;
  this._bpmnReplace = bpmnReplace;
  this._rules = rules;
  this._translate = translate;

  this.register();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




















































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnAutoResize" id="apidoc.module.bpmn-js.BpmnAutoResize">module bpmn-js.BpmnAutoResize</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResize.BpmnAutoResize" id="apidoc.element.bpmn-js.BpmnAutoResize.BpmnAutoResize">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResize
        <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnAutoResize(eventBus, elementRegistry, modeling, rules) {
  AutoResize.call(this, eventBus, elementRegistry, modeling, rules);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResize.super_" id="apidoc.element.bpmn-js.BpmnAutoResize.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResize.</span>super_
        <span class="apidocSignatureSpan">(eventBus, elementRegistry, modeling, rules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AutoResize(eventBus, elementRegistry, modeling, rules) {

  CommandInterceptor.call(this, eventBus);

  this._elementRegistry = elementRegistry;
  this._modeling = modeling;
  this._rules = rules;

  var self = this;

  this.postExecuted([ &#x27;shape.create&#x27; ], function(event) {

    var context = event.context,
        hints = context.hints,
        shape = context.shape,
        parent = context.parent || context.newParent;

    if (hints &#x26;&#x26; hints.root === false) {
      return;
    }

    self._expand([ shape ], parent);
  });

  this.postExecuted([ &#x27;elements.move&#x27; ], function(event) {

    var context = event.context,
        elements = flatten(values(context.closure.topLevel)),
        hints = context.hints;

    if (hints &#x26;&#x26; hints.autoResize === false) {
      return;
    }

    var expandings = groupBy(elements, function(element) {
      return element.parent.id;
    });

    forEach(expandings, function(elements, parentId) {
      self._expand(elements, parentId);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnAutoResize.prototype" id="apidoc.module.bpmn-js.BpmnAutoResize.prototype">module bpmn-js.BpmnAutoResize.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResize.prototype.resize" id="apidoc.element.bpmn-js.BpmnAutoResize.prototype.resize">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResize.prototype.</span>resize
        <span class="apidocSignatureSpan">(target, newBounds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resize = function (target, newBounds) {

  if (is(target, &#x27;bpmn:Participant&#x27;)) {
    this._modeling.resizeLane(target, newBounds);
  } else {
    this._modeling.resizeShape(target, newBounds);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnAutoResizeProvider" id="apidoc.module.bpmn-js.BpmnAutoResizeProvider">module bpmn-js.BpmnAutoResizeProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.BpmnAutoResizeProvider" id="apidoc.element.bpmn-js.BpmnAutoResizeProvider.BpmnAutoResizeProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnAutoResizeProvider
        <span class="apidocSignatureSpan">(eventBus, modeling)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnAutoResizeProvider(eventBus, modeling) {
  AutoResizeProvider.call(this, eventBus);

  this._modeling = modeling;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.super_" id="apidoc.element.bpmn-js.BpmnAutoResizeProvider.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResizeProvider.</span>super_
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AutoResizeProvider(eventBus) {

  RuleProvider.call(this, eventBus);

  var self = this;

  this.addRule(&#x27;element.autoResize&#x27;, function(context) {
    return self.canResize(context.elements, context.target);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnAutoResizeProvider.prototype" id="apidoc.module.bpmn-js.BpmnAutoResizeProvider.prototype">module bpmn-js.BpmnAutoResizeProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnAutoResizeProvider.prototype.canResize" id="apidoc.element.bpmn-js.BpmnAutoResizeProvider.prototype.canResize">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnAutoResizeProvider.prototype.</span>canResize
        <span class="apidocSignatureSpan">(elements, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">canResize = function (elements, target) {

  if (!is(target, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; !is(target, &#x27;bpmn:Lane&#x27;) &#x26;&#x26; !(is(target, &#x27;bpmn:SubProcess&#x27;))) {
    return false;
  }

  var canResize = true;

  forEach(elements, function(element) {

    if (is(element, &#x27;bpmn:Lane&#x27;) || element.labelTarget) {
      canResize = false;
      return;
    }
  });

  return canResize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnEditorActions" id="apidoc.module.bpmn-js.BpmnEditorActions">module bpmn-js.BpmnEditorActions</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnEditorActions.BpmnEditorActions" id="apidoc.element.bpmn-js.BpmnEditorActions.BpmnEditorActions">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnEditorActions
        <span class="apidocSignatureSpan">( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnEditorActions( injector, canvas, elementRegistry, selection, spaceTool, lassoTool, handTool, globalConnect, distributeElements, alignElements, directEditing, searchPad, modeling) {

  injector.invoke(EditorActions, this);

  this.register({
    selectElements: function() {
      // select all elements except for the invisible
      // root element
      var rootElement = canvas.getRootElement();

      var elements = elementRegistry.filter(function(element) {
        return element !== rootElement;
      });

      selection.select(elements);

      return elements;
    },
    spaceTool: function() {
      spaceTool.toggle();
    },
    lassoTool: function() {
      lassoTool.toggle();
    },
    handTool: function() {
      handTool.toggle();
    },
    globalConnectTool: function() {
      globalConnect.toggle();
    },
    distributeElements: function(opts) {
      var currentSelection = selection.get(),
          type = opts.type;

      if (currentSelection.length) {
        distributeElements.trigger(currentSelection, type);
      }
    },
    alignElements: function(opts) {
      var currentSelection = selection.get(),
          aligneableElements = [],
          type = opts.type;

      if (currentSelection.length) {
        aligneableElements = filter(currentSelection, function(element) {
          return !is(element, &#x27;bpmn:Lane&#x27;);
        });

        alignElements.trigger(aligneableElements, type);
      }
    },
    setColor: function(opts) {
      var currentSelection = selection.get();

      if (currentSelection.length) {
        modeling.setColor(currentSelection, opts);
      }
    },
    directEditing: function() {
      var currentSelection = selection.get();

      if (currentSelection.length) {
        directEditing.activate(currentSelection[0]);
      }
    },
    find: function() {
      searchPad.toggle();
    },
    moveToOrigin: function() {
      var rootElement = canvas.getRootElement(),
          boundingBox,
          elements;

      if (is(rootElement, &#x27;bpmn:Collaboration&#x27;)) {
        elements = elementRegistry.filter(function(element) {
          return is(element.parent, &#x27;bpmn:Collaboration&#x27;);
        });
      } else {
        elements = elementRegistry.filter(function(element) {
          return element !== rootElement &#x26;&#x26; !is(element.parent, &#x27;bpmn:SubProcess&#x27;);
        });
      }

      boundingBox = getBBox(elements);

      modeling.moveElements(elements, { x: -boundingBox.x, y: -boundingBox.y }, rootElement);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnEditorActions.super_" id="apidoc.element.bpmn-js.BpmnEditorActions.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnEditorActions.</span>super_
        <span class="apidocSignatureSpan">(eventBus, commandStack, modeling, selection, zoomScroll, copyPaste, canvas, rules, mouseTracking)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EditorActions(eventBus, commandStack, modeling, selection, zoomScroll, copyPaste, canvas, rules, mouseTracking) {

  this._actions = {
    undo: function() {
      commandStack.undo();
    },
    redo: function() {
      commandStack.redo();
    },
    copy: function() {
      var selectedElements = selection.get();

      copyPaste.copy(selectedElements);
    },
    paste: function() {
      var context = mouseTracking.getHoverContext();

      copyPaste.paste(context);
    },
    stepZoom: function(opts) {
      zoomScroll.stepZoom(opts.value);
    },
    zoom: function(opts) {
      canvas.zoom(opts.value);
    },
    removeSelection: function() {
      var selectedElements = selection.get();

      if (selectedElements.length) {
        var allowed = rules.allowed(&#x27;elements.delete&#x27;, { elements: selectedElements }),
            removableElements;

        if (allowed === false) {
          return;
        }
        else if (isArray(allowed)) {
          removableElements = allowed;
        }
        else {
          removableElements = selectedElements;
        }

        if (removableElements.length) {
          modeling.removeElements(removableElements.slice());
        }
      }
    },
    moveCanvas: function(opts) {
      var dx = 0,
          dy = 0,
          invertY = opts.invertY,
          speed = opts.speed;

      var actualSpeed = speed / Math.min(Math.sqrt(canvas.viewbox().scale), 1);

      switch (opts.direction) {
      case &#x27;left&#x27;:    // Left
        dx = actualSpeed;
        break;
      case &#x27;up&#x27;:    // Up
        dy = actualSpeed;
        break;
      case &#x27;right&#x27;:    // Right
        dx = -actualSpeed;
        break;
      case &#x27;down&#x27;:    // Down
        dy = -actualSpeed;
        break;
      }

      if (dy &#x26;&#x26; invertY) {
        dy = -dy;
      }

      canvas.scroll({ dx: dx, dy: dy });
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnFactory" id="apidoc.module.bpmn-js.BpmnFactory">module bpmn-js.BpmnFactory</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.BpmnFactory" id="apidoc.element.bpmn-js.BpmnFactory.BpmnFactory">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnFactory
        <span class="apidocSignatureSpan">(moddle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnFactory(moddle) {
  this._model = moddle;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnFactory.prototype" id="apidoc.module.bpmn-js.BpmnFactory.prototype">module bpmn-js.BpmnFactory.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype._ensureId" id="apidoc.element.bpmn-js.BpmnFactory.prototype._ensureId">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>_ensureId
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ensureId = function (element) {

  // generate semantic ids for elements
  // bpmn:SequenceFlow -&#x3e; SequenceFlow_ID
  var prefix = (element.$type || &#x27;&#x27;).replace(/^[^:]*:/g, &#x27;&#x27;) + &#x27;_&#x27;;

  if (!element.id &#x26;&#x26; this._needsId(element)) {
    element.id = this._model.ids.nextPrefixed(prefix, element);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

businessObject = descriptor.businessObject;

// remove the id or else we cannot paste multiple times
delete businessObject.id;

// assign an ID
bpmnFactory.<span class="apidocCodeKeywordSpan">_ensureId</span>(businessObject);

if (descriptor.type === &#x27;bpmn:Participant&#x27; &#x26;&#x26; descriptor.processRef) {
  descriptor.processRef = businessObject.processRef = bpmnFactory.create(&#x27;bpmn:Process&#x27;);
}

setProperties(businessObject, descriptor, [
  &#x27;isExpanded&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype._needsId" id="apidoc.element.bpmn-js.BpmnFactory.prototype._needsId">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>_needsId
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_needsId = function (element) {
  return element.$instanceOf(&#x27;bpmn:RootElement&#x27;) ||
         element.$instanceOf(&#x27;bpmn:FlowElement&#x27;) ||
         element.$instanceOf(&#x27;bpmn:MessageFlow&#x27;) ||
         element.$instanceOf(&#x27;bpmn:DataAssociation&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Artifact&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Participant&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Lane&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Process&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Collaboration&#x27;) ||
         element.$instanceOf(&#x27;bpmndi:BPMNShape&#x27;) ||
         element.$instanceOf(&#x27;bpmndi:BPMNEdge&#x27;) ||
         element.$instanceOf(&#x27;bpmndi:BPMNDiagram&#x27;) ||
         element.$instanceOf(&#x27;bpmndi:BPMNPlane&#x27;) ||
         element.$instanceOf(&#x27;bpmn:Property&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

BpmnFactory.prototype._ensureId = function(element) {

// generate semantic ids for elements
// bpmn:SequenceFlow -&#x3e; SequenceFlow_ID
var prefix = (element.$type || &#x27;&#x27;).replace(/^[^:]*:/g, &#x27;&#x27;) + &#x27;_&#x27;;

if (!element.id &#x26;&#x26; this.<span class="apidocCodeKeywordSpan">_needsId</span>(element)) {
  element.id = this._model.ids.nextPrefixed(prefix, element);
}
};


BpmnFactory.prototype.create = function(type, attrs) {
var element = this._model.create(type, attrs || {});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.create" id="apidoc.element.bpmn-js.BpmnFactory.prototype.create">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>create
        <span class="apidocSignatureSpan">(type, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (type, attrs) {
  var element = this._model.create(type, attrs || {});

  this._ensureId(element);

  return element;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
  }

  var replaceMenu;

  if (popupMenu._providers[&#x27;bpmn-replace&#x27;]) {
replaceMenu = popupMenu.<span class="apidocCodeKeywordSpan">create</span>(&#x27;bpmn-replace&#x27;, element);
  }

  if (replaceMenu &#x26;&#x26; !replaceMenu.isEmpty()) {

// Replace menu entry
assign(actions, {
  &#x27;replace&#x27;: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiBounds" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiBounds">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiBounds
        <span class="apidocSignatureSpan">(bounds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiBounds = function (bounds) {
  return this.create(&#x27;dc:Bounds&#x27;, bounds);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return element;
};


BpmnFactory.prototype.createDiLabel = function() {
return this.create(&#x27;bpmndi:BPMNLabel&#x27;, {
  bounds: this.<span class="apidocCodeKeywordSpan">createDiBounds</span>()
});
};


BpmnFactory.prototype.createDiShape = function(semantic, bounds, attrs) {

return this.create(&#x27;bpmndi:BPMNShape&#x27;, assign({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiEdge" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiEdge">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiEdge
        <span class="apidocSignatureSpan">(semantic, waypoints, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiEdge = function (semantic, waypoints, attrs) {
  return this.create(&#x27;bpmndi:BPMNEdge&#x27;, assign({
    bpmnElement: semantic
  }, attrs));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!businessObject.di) {
if (elementType === &#x27;root&#x27;) {
  businessObject.di = this._bpmnFactory.createDiPlane(businessObject, [], {
    id: businessObject.id + &#x27;_di&#x27;
  });
} else
if (elementType === &#x27;connection&#x27;) {
  businessObject.di = this._bpmnFactory.<span class="apidocCodeKeywordSpan">createDiEdge</span>(businessObject, [], {
    id: businessObject.id + &#x27;_di&#x27;
  });
} else {
  businessObject.di = this._bpmnFactory.createDiShape(businessObject, {}, {
    id: businessObject.id + &#x27;_di&#x27;
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiLabel" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiLabel">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiLabel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiLabel = function () {
  return this.create(&#x27;bpmndi:BPMNLabel&#x27;, {
    bounds: this.createDiBounds()
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};


/////// helpers /////////////////////////////////////////

BpmnUpdater.prototype._getLabel = function(di) {
  if (!di.label) {
    di.label = this._bpmnFactory.<span class="apidocCodeKeywordSpan">createDiLabel</span>();
  }

  return di.label;
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiPlane" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiPlane">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiPlane
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiPlane = function (semantic) {
  return this.create(&#x27;bpmndi:BPMNPlane&#x27;, {
    bpmnElement: semantic
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  businessObject = this._bpmnFactory.create(attrs.type);
}

if (!businessObject.di) {
  if (elementType === &#x27;root&#x27;) {
    businessObject.di = this._bpmnFactory.<span class="apidocCodeKeywordSpan">createDiPlane</span>(businessObject, [], {
      id: businessObject.id + &#x27;_di&#x27;
    });
  } else
  if (elementType === &#x27;connection&#x27;) {
    businessObject.di = this._bpmnFactory.createDiEdge(businessObject, [], {
      id: businessObject.id + &#x27;_di&#x27;
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiShape" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiShape">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiShape
        <span class="apidocSignatureSpan">(semantic, bounds, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiShape = function (semantic, bounds, attrs) {

  return this.create(&#x27;bpmndi:BPMNShape&#x27;, assign({
    bpmnElement: semantic,
    bounds: this.createDiBounds(bounds)
  }, attrs));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  } else
  if (elementType === &#x27;connection&#x27;) {
    businessObject.di = this._bpmnFactory.createDiEdge(businessObject, [], {
      id: businessObject.id + &#x27;_di&#x27;
    });
  } else {
    businessObject.di = this._bpmnFactory.<span class="apidocCodeKeywordSpan">createDiShape</span>(businessObject, {}, {
      id: businessObject.id + &#x27;_di&#x27;
    });
  }
}

if (attrs.colors) {
  assign(businessObject.di, attrs.colors);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoint" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoint">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiWaypoint
        <span class="apidocSignatureSpan">(point)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiWaypoint = function (point) {
  return this.create(&#x27;dc:Point&#x27;, pick(point, [ &#x27;x&#x27;, &#x27;y&#x27; ]));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
BpmnFactory.prototype.createDiBounds = function(bounds) {
  return this.create(&#x27;dc:Bounds&#x27;, bounds);
};


BpmnFactory.prototype.createDiWaypoints = function(waypoints) {
  return map(waypoints, function(pos) {
    return this.<span class="apidocCodeKeywordSpan">createDiWaypoint</span>(pos);
  }, this);
};

BpmnFactory.prototype.createDiWaypoint = function(point) {
  return this.create(&#x27;dc:Point&#x27;, pick(point, [ &#x27;x&#x27;, &#x27;y&#x27; ]));
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoints" id="apidoc.element.bpmn-js.BpmnFactory.prototype.createDiWaypoints">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnFactory.prototype.</span>createDiWaypoints
        <span class="apidocSignatureSpan">(waypoints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDiWaypoints = function (waypoints) {
  return map(waypoints, function(pos) {
    return this.createDiWaypoint(pos);
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    diChildren.push(businessObject);
  }
}
};


BpmnUpdater.prototype.updateConnectionWaypoints = function(connection) {
connection.businessObject.di.set(&#x27;waypoint&#x27;, this._bpmnFactory.<span class="apidocCodeKeywordSpan">createDiWaypoints</
span>(connection.waypoints));
};


BpmnUpdater.prototype.updateConnection = function(context) {

var connection = context.connection,
    businessObject = getBusinessObject(connection),
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnGlobalConnect" id="apidoc.module.bpmn-js.BpmnGlobalConnect">module bpmn-js.BpmnGlobalConnect</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnGlobalConnect.BpmnGlobalConnect" id="apidoc.element.bpmn-js.BpmnGlobalConnect.BpmnGlobalConnect">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnGlobalConnect
        <span class="apidocSignatureSpan">(globalConnect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnGlobalConnect(globalConnect) {
  globalConnect.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnGlobalConnect.prototype" id="apidoc.module.bpmn-js.BpmnGlobalConnect.prototype">module bpmn-js.BpmnGlobalConnect.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnGlobalConnect.prototype.canStartConnect" id="apidoc.element.bpmn-js.BpmnGlobalConnect.prototype.canStartConnect">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnGlobalConnect.prototype.</span>canStartConnect
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">canStartConnect = function (source) {

  if (nonExistantOrLabel(source)) {
    return null;
  }

  var businessObject = source.businessObject;

  return isAny(businessObject, [
    &#x27;bpmn:FlowNode&#x27;,
    &#x27;bpmn:InteractionNode&#x27;,
    &#x27;bpmn:DataObjectReference&#x27;,
    &#x27;bpmn:DataStoreReference&#x27;
  ]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnImporter" id="apidoc.module.bpmn-js.BpmnImporter">module bpmn-js.BpmnImporter</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.BpmnImporter" id="apidoc.element.bpmn-js.BpmnImporter.BpmnImporter">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnImporter
        <span class="apidocSignatureSpan">(eventBus, canvas, elementFactory, elementRegistry, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnImporter(eventBus, canvas, elementFactory, elementRegistry, translate) {
  this._eventBus = eventBus;
  this._canvas = canvas;

  this._elementFactory = elementFactory;
  this._elementRegistry = elementRegistry;
  this._translate = translate;

  this._textUtil = new TextUtil();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnImporter.prototype" id="apidoc.module.bpmn-js.BpmnImporter.prototype">module bpmn-js.BpmnImporter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype._attachBoundary" id="apidoc.element.bpmn-js.BpmnImporter.prototype._attachBoundary">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_attachBoundary
        <span class="apidocSignatureSpan">(boundarySemantic, boundaryElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_attachBoundary = function (boundarySemantic, boundaryElement) {
  var translate = this._translate;
  var hostSemantic = boundarySemantic.attachedToRef;

  if (!hostSemantic) {
    throw new Error(translate(&#x27;missing {semantic}#attachedToRef&#x27;, {
      semantic: elementToString(boundarySemantic)
    }));
  }

  var host = this._elementRegistry.get(hostSemantic.id),
      attachers = host &#x26;&#x26; host.attachers;

  if (!host) {
    throw notYetDrawn(translate, boundarySemantic, hostSemantic, &#x27;attachedToRef&#x27;);
  }

  // wire element.host &#x3c;&#x3e; host.attachers
  boundaryElement.host = host;

  if (!attachers) {
    host.attachers = attachers = [];
  }

  if (attachers.indexOf(boundaryElement) === -1) {
    attachers.push(boundaryElement);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    x: Math.round(bounds.x),
    y: Math.round(bounds.y),
    width: Math.round(bounds.width),
    height: Math.round(bounds.height)
  }));

  if (is(semantic, &#x27;bpmn:BoundaryEvent&#x27;)) {
    this.<span class="apidocCodeKeywordSpan">_attachBoundary</span>(semantic, element);
  }

  this._canvas.addShape(element, parentElement);
}

// CONNECTION
else if (is(di, &#x27;bpmndi:BPMNEdge&#x27;)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getElement" id="apidoc.element.bpmn-js.BpmnImporter.prototype._getElement">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getElement
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getElement = function (semantic) {
  return this._elementRegistry.get(semantic.id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// fix source / target for DataInputAssociation / DataOutputAssociation
if (side === &#x27;source&#x27; &#x26;&#x26; type === &#x27;bpmn:DataOutputAssociation&#x27; ||
    side === &#x27;target&#x27; &#x26;&#x26; type === &#x27;bpmn:DataInputAssociation&#x27;) {

  refSemantic = semantic.$parent;
}

element = refSemantic &#x26;&#x26; this.<span class="apidocCodeKeywordSpan">_getElement</span>(refSemantic);

if (element) {
  return element;
}

if (refSemantic) {
  throw notYetDrawn(translate, semantic, refSemantic, side + &#x27;Ref&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getEnd" id="apidoc.element.bpmn-js.BpmnImporter.prototype._getEnd">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getEnd
        <span class="apidocSignatureSpan">(semantic, side)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getEnd = function (semantic, side) {

  var element,
      refSemantic,
      type = semantic.$type,
      translate = this._translate;

  refSemantic = semantic[side + &#x27;Ref&#x27;];

  // handle mysterious isMany DataAssociation#sourceRef
  if (side === &#x27;source&#x27; &#x26;&#x26; type === &#x27;bpmn:DataInputAssociation&#x27;) {
    refSemantic = refSemantic &#x26;&#x26; refSemantic[0];
  }

  // fix source / target for DataInputAssociation / DataOutputAssociation
  if (side === &#x27;source&#x27; &#x26;&#x26; type === &#x27;bpmn:DataOutputAssociation&#x27; ||
      side === &#x27;target&#x27; &#x26;&#x26; type === &#x27;bpmn:DataInputAssociation&#x27;) {

    refSemantic = semantic.$parent;
  }

  element = refSemantic &#x26;&#x26; this._getElement(refSemantic);

  if (element) {
    return element;
  }

  if (refSemantic) {
    throw notYetDrawn(translate, semantic, refSemantic, side + &#x27;Ref&#x27;);
  } else {
    throw new Error(translate(&#x27;{semantic}#{side} Ref not specified&#x27;, {
      semantic: elementToString(semantic),
      side: side
    }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      semantic: elementToString(semantic),
      side: side
    }));
  }
};

BpmnImporter.prototype._getSource = function(semantic) {
  return this.<span class="apidocCodeKeywordSpan">_getEnd</span>(semantic, &#x27;source&#x27;);
};

BpmnImporter.prototype._getTarget = function(semantic) {
  return this._getEnd(semantic, &#x27;target&#x27;);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getSource" id="apidoc.element.bpmn-js.BpmnImporter.prototype._getSource">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getSource
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getSource = function (semantic) {
  return this._getEnd(semantic, &#x27;source&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this._canvas.addShape(element, parentElement);
  }

  // CONNECTION
  else if (is(di, &#x27;bpmndi:BPMNEdge&#x27;)) {

var source = this.<span class="apidocCodeKeywordSpan">_getSource</span>(semantic),
    target = this._getTarget(semantic);

hidden = parentElement &#x26;&#x26; (parentElement.hidden || parentElement.collapsed);

element = this._elementFactory.createConnection(elementData(semantic, {
  hidden: hidden,
  source: source,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype._getTarget" id="apidoc.element.bpmn-js.BpmnImporter.prototype._getTarget">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>_getTarget
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getTarget = function (semantic) {
  return this._getEnd(semantic, &#x27;target&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._canvas.addShape(element, parentElement);
  }

  // CONNECTION
  else if (is(di, &#x27;bpmndi:BPMNEdge&#x27;)) {

var source = this._getSource(semantic),
    target = this.<span class="apidocCodeKeywordSpan">_getTarget</span>(semantic);

hidden = parentElement &#x26;&#x26; (parentElement.hidden || parentElement.collapsed);

element = this._elementFactory.createConnection(elementData(semantic, {
  hidden: hidden,
  source: source,
  target: target,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype.add" id="apidoc.element.bpmn-js.BpmnImporter.prototype.add">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>add
        <span class="apidocSignatureSpan">(semantic, parentElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (semantic, parentElement) {

  var di = semantic.di,
      element,
      translate = this._translate,
      hidden;

  // ROOT ELEMENT
  // handle the special case that we deal with a
  // invisible root element (process or collaboration)
  if (is(di, &#x27;bpmndi:BPMNPlane&#x27;)) {

    // add a virtual element (not being drawn)
    element = this._elementFactory.createRoot(elementData(semantic));

    this._canvas.setRootElement(element);
  }

  // SHAPE
  else if (is(di, &#x27;bpmndi:BPMNShape&#x27;)) {

    var collapsed = !isExpanded(semantic);
    hidden = parentElement &#x26;&#x26; (parentElement.hidden || parentElement.collapsed);

    var bounds = semantic.di.bounds;

    element = this._elementFactory.createShape(elementData(semantic, {
      collapsed: collapsed,
      hidden: hidden,
      x: Math.round(bounds.x),
      y: Math.round(bounds.y),
      width: Math.round(bounds.width),
      height: Math.round(bounds.height)
    }));

    if (is(semantic, &#x27;bpmn:BoundaryEvent&#x27;)) {
      this._attachBoundary(semantic, element);
    }

    this._canvas.addShape(element, parentElement);
  }

  // CONNECTION
  else if (is(di, &#x27;bpmndi:BPMNEdge&#x27;)) {

    var source = this._getSource(semantic),
        target = this._getTarget(semantic);

    hidden = parentElement &#x26;&#x26; (parentElement.hidden || parentElement.collapsed);

    element = this._elementFactory.createConnection(elementData(semantic, {
      hidden: hidden,
      source: source,
      target: target,
      waypoints: collectWaypoints(semantic.di.waypoint)
    }));

    if (is(semantic, &#x27;bpmn:DataAssociation&#x27;)) {

      // render always on top; this ensures DataAssociations
      // are rendered correctly across different &#x22;hacks&#x22; people
      // love to model such as cross participant / sub process
      // associations
      parentElement = null;
    }

    this._canvas.addConnection(element, parentElement);
  } else {
    throw new Error(translate(&#x27;unknown di {di} for element {semantic}&#x27;, {
      di: elementToString(di),
      semantic: elementToString(semantic)
    }));
  }
  // (optional) LABEL
  if (hasExternalLabel(semantic)) {
    this.addLabel(semantic, element);
  }


  this._eventBus.fire(&#x27;bpmnElement.added&#x27;, { element: element });

  return element;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    var banner = grunt.template.process(BANNER, grunt.config.get()),
bannerMin = grunt.template.process(BANNER_MIN, grunt.config.get());

    browserify(browserifyOptions)
      .plugin(derequire)
      .plugin(collapse)
      .<span class="apidocCodeKeywordSpan">add</span>(src)
      .bundle(function(err, result) {

timer.done(&#x27;bundled&#x27;);

if (err) {
  return done(err);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnImporter.prototype.addLabel" id="apidoc.element.bpmn-js.BpmnImporter.prototype.addLabel">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnImporter.prototype.</span>addLabel
        <span class="apidocSignatureSpan">(semantic, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addLabel = function (semantic, element) {
  var bounds,
      text,
      label;

  bounds = getExternalLabelBounds(semantic, element);

  text = semantic.name;

  if (text) {
    // get corrected bounds from actual layouted text
    bounds = getLayoutedBounds(bounds, text, this._textUtil);
  }

  label = this._elementFactory.createLabel(elementData(semantic, {
    id: semantic.id + &#x27;_label&#x27;,
    labelTarget: element,
    type: &#x27;label&#x27;,
    hidden: element.hidden || !semantic.name,
    x: Math.round(bounds.x),
    y: Math.round(bounds.y),
    width: Math.round(bounds.width),
    height: Math.round(bounds.height)
  }));

  return this._canvas.addShape(label, element.parent);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    throw new Error(translate(&#x27;unknown di {di} for element {semantic}&#x27;, {
      di: elementToString(di),
      semantic: elementToString(semantic)
    }));
  }
  // (optional) LABEL
  if (hasExternalLabel(semantic)) {
    this.<span class="apidocCodeKeywordSpan">addLabel</span>(semantic, element);
  }


  this._eventBus.fire(&#x27;bpmnElement.added&#x27;, { element: element });

  return element;
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnLayouter" id="apidoc.module.bpmn-js.BpmnLayouter">module bpmn-js.BpmnLayouter</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnLayouter.BpmnLayouter" id="apidoc.element.bpmn-js.BpmnLayouter.BpmnLayouter">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnLayouter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnLayouter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnLayouter.super_" id="apidoc.element.bpmn-js.BpmnLayouter.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnLayouter.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseLayouter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnLayouter.prototype" id="apidoc.module.bpmn-js.BpmnLayouter.prototype">module bpmn-js.BpmnLayouter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnLayouter.prototype.layoutConnection" id="apidoc.element.bpmn-js.BpmnLayouter.prototype.layoutConnection">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnLayouter.prototype.</span>layoutConnection
        <span class="apidocSignatureSpan">(connection, hints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">layoutConnection = function (connection, hints) {

  hints = hints || {};

  var source = connection.source,
      target = connection.target,
      waypoints = connection.waypoints,
      start = hints.connectionStart,
      end = hints.connectionEnd;

  var manhattanOptions,
      updatedWaypoints;

  if (!start) {
    start = getConnectionDocking(waypoints &#x26;&#x26; waypoints[0], source);
  }

  if (!end) {
    end = getConnectionDocking(waypoints &#x26;&#x26; waypoints[waypoints.length - 1], target);
  }

  // TODO(nikku): support vertical modeling
  // and invert preferredLayouts accordingly

  if (is(connection, &#x27;bpmn:Association&#x27;) ||
      is(connection, &#x27;bpmn:DataAssociation&#x27;)) {

    if (waypoints &#x26;&#x26; !isCompensationAssociation(connection)) {
      return [].concat([ start ], waypoints.slice(1, -1), [ end ]);
    }
  }

  // manhattan layout sequence / message flows
  if (is(connection, &#x27;bpmn:MessageFlow&#x27;)) {
    manhattanOptions = {
      preferredLayouts: [ &#x27;v:v&#x27; ]
    };

    if (is(target, &#x27;bpmn:Participant&#x27;)) {
      manhattanOptions = {
        preferredLayouts: [ &#x27;straight&#x27;, &#x27;v:v&#x27; ]
      };
    }

    if (isExpandedSubProcess(target)) {
      manhattanOptions = {
        preferredLayouts: [ &#x27;straight&#x27;, &#x27;v:v&#x27; ]
      };
    }

    if (isExpandedSubProcess(source) &#x26;&#x26; is(target, &#x27;bpmn:FlowNode&#x27;)) {
      manhattanOptions = {
        preferredLayouts: [ &#x27;straight&#x27;, &#x27;v:v&#x27; ],
        preserveDocking: isExpandedSubProcess(target) ? &#x27;source&#x27; : &#x27;target&#x27;
      };
    }

    if (is(source, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(target, &#x27;bpmn:FlowNode&#x27;)) {
      manhattanOptions = {
        preferredLayouts: [ &#x27;straight&#x27;, &#x27;v:v&#x27; ],
        preserveDocking: &#x27;target&#x27;
      };
    }

    if (is(target, &#x27;bpmn:Event&#x27;)) {
      manhattanOptions = {
        preferredLayouts: [ &#x27;v:v&#x27; ]
      };
    }
  } else


  // layout all connection between flow elements h:h,
  //
  // except for
  //
  // (1) outgoing of BoundaryEvents -&#x3e; layout h:v or v:h based on attach orientation
  // (2) incoming / outgoing of Gateway -&#x3e; v:h (outgoing), h:v (incoming)
  //
  if (is(connection, &#x27;bpmn:SequenceFlow&#x27;) ||
      isCompensationAssociation(connection)) {

    // make sure boundary event connections do
    // not look ugly =:&#x3e;
    if (is(source, &#x27;bpmn:BoundaryEvent&#x27;)) {

      var orientation = getAttachOrientation(source);

      if (/left|right/.test(orientation)) {
        manhattanOptions = {
          preferredLayouts: [ &#x27;h:v&#x27; ]
        };
      } else

      if (/top|bottom/.test(orientation)) {
        manhattanOptions = {
          preferredLayouts: [ &#x27;v:h&#x27; ]
        };
      }
    } else

    if (is(source, &#x27;bpmn:Gateway&#x27;)) {

      manhattanOptions = {
        preferredLayouts: [ &#x27;v:h&#x27; ]
      };
    } else

    if (is(target, &#x27;bpmn:Gateway&#x27;)) {

      manhattanOptions = {
        preferredLayouts: [ &#x27;h:v&#x27; ]
      };
    }

    // apply horizontal love &#x3c;3
    else {
      manhattanOptions = {
        preferredLayouts: [ &#x27;h:h&#x27; ]
      };
    }
  }

  if (manhattanOptions) {

    manhattanOptions = assign(manhattanOptions, hints);

    updatedWaypoints =
      ManhattanLayout.repairConnection(
        source, target,
        start, end,
        waypoints,
        manhattanOptions);
  }

  return updatedWaypoints || [ start, end ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnOrderingProvider" id="apidoc.module.bpmn-js.BpmnOrderingProvider">module bpmn-js.BpmnOrderingProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnOrderingProvider.BpmnOrderingProvider" id="apidoc.element.bpmn-js.BpmnOrderingProvider.BpmnOrderingProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnOrderingProvider
        <span class="apidocSignatureSpan">(eventBus, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnOrderingProvider(eventBus, translate) {

  OrderingProvider.call(this, eventBus);

  var orders = [
    { type: &#x27;bpmn:SubProcess&#x27;, order: { level: 6 } },
    {
      type: &#x27;bpmn:SequenceFlow&#x27;,
      order: {
        level: 5,
        containers: [
          &#x27;bpmn:Participant&#x27;,
          &#x27;bpmn:FlowElementsContainer&#x27;
        ]
      }
    },
    // handle DataAssociation(s) like message flows and render them always on top
    { type: &#x27;bpmn:DataAssociation&#x27;, order: { level: 9, containers: [ &#x27;bpmn:Collaboration&#x27;, &#x27;bpmn:Process&#x27; ] } },
    { type: &#x27;bpmn:MessageFlow&#x27;, order: { level: 9, containers: [ &#x27;bpmn:Collaboration&#x27; ] } },
    {
      type: &#x27;bpmn:Association&#x27;,
      order: {
        level: 6,
        containers: [
          &#x27;bpmn:Participant&#x27;,
          &#x27;bpmn:FlowElementsContainer&#x27;,
          &#x27;bpmn:Collaboration&#x27;
        ]
      }
    },
    { type: &#x27;bpmn:BoundaryEvent&#x27;, order: { level: 8 } },
    { type: &#x27;bpmn:Participant&#x27;, order: { level: -2 } },
    { type: &#x27;bpmn:Lane&#x27;, order: { level: -1 } }
  ];

  function computeOrder(element) {
    if (element.labelTarget) {
      return { level: 10 };
    }

    var entry = find(orders, function(o) {
      return isAny(element, [ o.type ]);
    });

    return entry &#x26;&#x26; entry.order || { level: 1 };
  }

  function getOrder(element) {

    var order = element.order;

    if (!order) {
      element.order = order = computeOrder(element);
    }

    return order;
  }

  function findActualParent(element, newParent, containers) {

    var actualParent = newParent;

    while (actualParent) {

      if (isAny(actualParent, containers)) {
        break;
      }

      actualParent = actualParent.parent;
    }

    if (!actualParent) {
      throw new Error(translate(&#x27;no parent for {element} in {parent}&#x27;, {
        element: element.id,
        parent: newParent.id
      }));
    }

    return actualParent;
  }

  this.getOrdering = function(element, newParent) {

    var elementOrder = getOrder(element);


    if (elementOrder.containers) {
      newParent = findActualParent(element, newParent, elementOrder.containers);
    }


    var currentIndex = newParent.children.indexOf(element);

    var insertIndex = findIndex(newParent.children, function(child) {

      // do not compare with labels, they are created
      // in the wrong order (right after elements) during import and
      // mess up the positioning.
      if (!element.labelTarget &#x26;&#x26; child.labelTarget) {
        return false;
      }

      return elementOrder.level &#x3c; getOrder(child).level;
    });


    // if the element is already in the child list at
    // a smaller index, we need to adjust the inser index.
    // this takes into account that the element is being removed
    // before being re-inserted
    if (insertIndex !== -1) {
      if (currentIndex !== -1 &#x26;&#x26; currentIndex &#x3c; insertIndex) {
        insertIndex -= 1;
      }
    }

    return {
      index: insertIndex,
      parent: newParent
    };
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnOrderingProvider.super_" id="apidoc.element.bpmn-js.BpmnOrderingProvider.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnOrderingProvider.</span>super_
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OrderingProvider(eventBus) {

  CommandInterceptor.call(this, eventBus);


  var self = this;

  this.preExecute([ &#x27;shape.create&#x27;, &#x27;connection.create&#x27; ], function(event) {

    var context = event.context,
        element = context.shape || context.connection,
        parent = context.parent;

    var ordering = self.getOrdering(element, parent);

    if (ordering) {

      if (ordering.parent !== undefined) {
        context.parent = ordering.parent;
      }

      context.parentIndex = ordering.index;
    }
  });

  this.preExecute([ &#x27;shape.move&#x27;, &#x27;connection.move&#x27; ], function(event) {

    var context = event.context,
        element = context.shape || context.connection,
        parent = context.newParent || element.parent;

    var ordering = self.getOrdering(element, parent);

    if (ordering) {

      if (ordering.parent !== undefined) {
        context.newParent = ordering.parent;
      }

      context.newParentIndex = ordering.index;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnRenderer" id="apidoc.module.bpmn-js.BpmnRenderer">module bpmn-js.BpmnRenderer</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.BpmnRenderer" id="apidoc.element.bpmn-js.BpmnRenderer.BpmnRenderer">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRenderer
        <span class="apidocSignatureSpan">(eventBus, styles, pathMap, canvas, priority)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnRenderer(eventBus, styles, pathMap, canvas, priority) {

  BaseRenderer.call(this, eventBus, priority);

  var textUtil = new TextUtil({
    style: LABEL_STYLE,
    size: { width: 100 }
  });

  var markers = {};

  var computeStyle = styles.computeStyle;

  function addMarker(id, options) {
    var attrs = assign({
      fill: &#x27;black&#x27;,
      strokeWidth: 1,
      strokeLinecap: &#x27;round&#x27;,
      strokeDasharray: &#x27;none&#x27;
    }, options.attrs);

    var ref = options.ref || { x: 0, y: 0 };

    var scale = options.scale || 1;

    // fix for safari / chrome / firefox bug not correctly
    // resetting stroke dash array
    if (attrs.strokeDasharray === &#x27;none&#x27;) {
      attrs.strokeDasharray = [10000, 1];
    }

    var marker = svgCreate(&#x27;marker&#x27;);

    svgAttr(options.element, attrs);

    svgAppend(marker, options.element);

    svgAttr(marker, {
      id: id,
      viewBox: &#x27;0 0 20 20&#x27;,
      refX: ref.x,
      refY: ref.y,
      markerWidth: 20 * scale,
      markerHeight: 20 * scale,
      orient: &#x27;auto&#x27;
    });

    var defs = domQuery(&#x27;defs&#x27;, canvas._svg);

    if (!defs) {
      defs = svgCreate(&#x27;defs&#x27;);

      svgAppend(canvas._svg, defs);
    }

    svgAppend(defs, marker);

    markers[id] = marker;
  }

  function marker(type, fill, stroke) {
    var id = type + &#x27;-&#x27; + fill + &#x27;-&#x27; + stroke;

    if (!markers[id]) {
      createMarker(type, fill, stroke);
    }

    return &#x27;url(#&#x27; + id +  &#x27;)&#x27;;
  }

  function createMarker(type, fill, stroke) {
    var id = type + &#x27;-&#x27; + fill + &#x27;-&#x27; + stroke;

    if (type === &#x27;sequenceflow-end&#x27;) {
      var sequenceflowEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(sequenceflowEnd, { d: &#x27;M 1 5 L 11 10 L 1 15 Z&#x27; });

      addMarker(id, {
        element: sequenceflowEnd,
        ref: { x: 11, y: 10 },
        scale: 0.5,
        attrs: {
          fill: stroke,
          stroke: stroke
        }
      });
    }

    if (type === &#x27;messageflow-start&#x27;) {
      var messageflowStart = svgCreate(&#x27;circle&#x27;);
      svgAttr(messageflowStart, { cx: 6, cy: 6, r: 3.5 });

      addMarker(id, {
        element: messageflowStart,
        attrs: {
          fill: fill,
          stroke: stroke
        },
        ref: { x: 6, y: 6 }
      });
    }

    if (type === &#x27;messageflow-end&#x27;) {
      var messageflowEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(messageflowEnd, { d: &#x27;m 1 5 l 0 -3 l 7 3 l -7 3 z&#x27; });

      addMarker(id, {
        element: messageflowEnd,
        attrs: {
          fill: fill,
          stroke: stroke,
          strokeLinecap: &#x27;butt&#x27;
        },
        ref: { x: 8.5, y: 5 }
      });
    }

    if (type === &#x27;association-start&#x27;) {
      var associationStart = svgCreate(&#x27;path&#x27;);
      svgAttr(associationStart, { d: &#x27;M 11 5 L 1 10 L 11 15&#x27; });

      addMarker(id, {
        element: associationStart,
        attrs: {
          fill: &#x27;none&#x27;,
          stroke: stroke,
          strokeWidth: 1.5
        },
        ref: { x: 1, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;association-end&#x27;) {
      var associationEnd = svgCreate(&#x27;path&#x27;);
      svgAttr(associationEnd, { d: &#x27;M 1 5 L 11 10 L 1 15&#x27; });

      addMarker(id, {
        element: associationEnd,
        attrs: {
          fill: &#x27;none&#x27;,
          stroke: stroke,
          strokeWidth: 1.5
        },
        ref: { x: 12, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;conditional-flow-marker&#x27;) {
      var conditionalflowMarker = svgCreate(&#x27;path&#x27;);
      svgAttr(conditionalflowMarker, { d: &#x27;M 0 10 L 8 6 L 16 10 L 8 14 Z&#x27; });

      addMarker(id, {
        element: conditionalflowMarker,
        attrs: {
          fill: fill,
          stroke: stroke
        },
        ref: { x: -1, y: 10 },
        scale: 0.5
      });
    }

    if (type === &#x27;conditional-default-flow-marker&#x27;) {
      var conditionaldefaultflowMarker = svgCreate(&#x27;path&#x27;);
      svgAttr(conditionaldefaultflowMarker, { d: &#x27;M 6 4 L 10 16&#x27; });

      addMarker(id, {
        element: conditionaldefaultflowMarker,
        attrs: {
          stroke: stroke
        },
        ref: { x: 0, y: 10 },
        scale: 0.5
      });
    }
  }

  funct ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.super_" id="apidoc.element.bpmn-js.BpmnRenderer.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.</span>super_
        <span class="apidocSignatureSpan">(eventBus, renderPriority)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseRenderer(eventBus, renderPriority) {
  var self = this;

  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;

  eventBus.on([ &#x27;render.shape&#x27;, &#x27;render.connection&#x27; ], renderPriority, function(evt, context) {
    var type = evt.type,
        element = context.element,
        visuals = context.gfx;

    if (self.canRender(element)) {
      if (type === &#x27;render.shape&#x27;) {
        return self.drawShape(visuals, element);
      } else {
        return self.drawConnection(visuals, element);
      }
    }
  });

  eventBus.on([ &#x27;render.getShapePath&#x27;, &#x27;render.getConnectionPath&#x27;], renderPriority, function(evt, element) {
    if (self.canRender(element)) {
      if (evt.type === &#x27;render.getShapePath&#x27;) {
        return self.getShapePath(element);
      } else {
        return self.getConnectionPath(element);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnRenderer.prototype" id="apidoc.module.bpmn-js.BpmnRenderer.prototype">module bpmn-js.BpmnRenderer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.canRender" id="apidoc.element.bpmn-js.BpmnRenderer.prototype.canRender">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>canRender
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">canRender = function (element) {
  return is(element, &#x27;bpmn:BaseElement&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.drawConnection" id="apidoc.element.bpmn-js.BpmnRenderer.prototype.drawConnection">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>drawConnection
        <span class="apidocSignatureSpan">(parentGfx, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawConnection = function (parentGfx, element) {
  var type = element.type;
  var h = this.handlers[type];

<span class="apidocCodeCommentSpan">  /* jshint -W040 */
</span>  return h(parentGfx, element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.drawShape" id="apidoc.element.bpmn-js.BpmnRenderer.prototype.drawShape">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>drawShape
        <span class="apidocSignatureSpan">(parentGfx, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawShape = function (parentGfx, element) {
  var type = element.type;
  var h = this.handlers[type];

<span class="apidocCodeCommentSpan">  /* jshint -W040 */
</span>  return h(parentGfx, element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRenderer.prototype.getShapePath" id="apidoc.element.bpmn-js.BpmnRenderer.prototype.getShapePath">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRenderer.prototype.</span>getShapePath
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getShapePath = function (element) {

  if (is(element, &#x27;bpmn:Event&#x27;)) {
    return getCirclePath(element);
  }

  if (is(element, &#x27;bpmn:Activity&#x27;)) {
    return getRoundRectPath(element, TASK_BORDER_RADIUS);
  }

  if (is(element, &#x27;bpmn:Gateway&#x27;)) {
    return getDiamondPath(element);
  }

  return getRectPath(element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  expect(elementRegistry.get(&#x27;triangle&#x27;)).to.eql(triangle);
  expect(elementRegistry.get(&#x27;circle&#x27;)).to.eql(circle);
}));


it(&#x27;should get the correct custom elements path&#x27;, inject(function(graphicsFactory) {
  // when
  var trianglePath = graphicsFactory.<span class="apidocCodeKeywordSpan">getShapePath</span>(triangle),
      circlePath = graphicsFactory.getShapePath(circle);

  // then
  expect(trianglePath).to.equal(&#x27;M720,100l20,40l-40,0z&#x27;);
  expect(circlePath).to.equal(&#x27;M870,170m0,-70a70,70,0,1,1,0,140a70,70,0,1,1,0,-140z&#x27;);
}));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnReplacePreview" id="apidoc.module.bpmn-js.BpmnReplacePreview">module bpmn-js.BpmnReplacePreview</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnReplacePreview.BpmnReplacePreview" id="apidoc.element.bpmn-js.BpmnReplacePreview.BpmnReplacePreview">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnReplacePreview
        <span class="apidocSignatureSpan">(eventBus, elementRegistry, elementFactory, canvas, previewSupport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnReplacePreview(eventBus, elementRegistry, elementFactory, canvas, previewSupport) {

  CommandInterceptor.call(this, eventBus);

<span class="apidocCodeCommentSpan">  /**
   * Replace the visuals of all elements in the context which can be replaced
   *
   * @param  {Object} context
   */
</span>  function replaceVisual(context) {

    var replacements = context.canExecute.replacements;

    forEach(replacements, function(replacement) {

      var id = replacement.oldElementId;

      var newElement = {
        type: replacement.newElementType
      };

      // if the visual of the element is already replaced
      if (context.visualReplacements[id]) {
        return;
      }

      var element = elementRegistry.get(id);

      assign(newElement, { x: element.x, y: element.y });

      // create a temporary shape
      var tempShape = elementFactory.createShape(newElement);

      canvas.addShape(tempShape, element.parent);

      // select the original SVG element related to the element and hide it
      var gfx = domQuery(&#x27;[data-element-id=&#x27; + element.id + &#x27;]&#x27;, context.dragGroup);

      if (gfx) {
        svgAttr(gfx, { display: &#x27;none&#x27; });
      }

      // clone the gfx of the temporary shape and add it to the drag group
      var dragger = previewSupport.addDragger(tempShape, context.dragGroup);

      context.visualReplacements[id] = dragger;

      canvas.removeShape(tempShape);
    });
  }

  /**
   * Restore the original visuals of the previously replaced elements
   *
   * @param  {Object} context
   */
  function restoreVisual(context) {

    var visualReplacements = context.visualReplacements;

    forEach(visualReplacements, function(dragger, id) {

      var originalGfx = domQuery(&#x27;[data-element-id=&#x27; + id + &#x27;]&#x27;, context.dragGroup);

      if (originalGfx) {
        svgAttr(originalGfx, { display: &#x27;inline&#x27; });
      }

      dragger.remove();

      if (visualReplacements[id]) {
        delete visualReplacements[id];
      }
    });
  }

  eventBus.on(&#x27;shape.move.move&#x27;, LOW_PRIORITY, function(event) {

    var context = event.context,
        canExecute = context.canExecute;

    if (!context.visualReplacements) {
      context.visualReplacements = {};
    }

    if (canExecute.replacements) {
      replaceVisual(context);
    } else {
      restoreVisual(context);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnReplacePreview.super_" id="apidoc.element.bpmn-js.BpmnReplacePreview.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnReplacePreview.</span>super_
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CommandInterceptor(eventBus) {
  this._eventBus = eventBus;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnRules" id="apidoc.module.bpmn-js.BpmnRules">module bpmn-js.BpmnRules</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.BpmnRules" id="apidoc.element.bpmn-js.BpmnRules.BpmnRules">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnRules
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnRules(eventBus) {
  RuleProvider.call(this, eventBus);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.super_" id="apidoc.element.bpmn-js.BpmnRules.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.</span>super_
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RuleProvider(eventBus) {
  CommandInterceptor.call(this, eventBus);

  this.init();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnRules.prototype" id="apidoc.module.bpmn-js.BpmnRules.prototype">module bpmn-js.BpmnRules.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canAttach" id="apidoc.element.bpmn-js.BpmnRules.prototype.canAttach">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canAttach
        <span class="apidocSignatureSpan">(elements, target, source, position)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canAttach(elements, target, source, position) {

  if (!Array.isArray(elements)) {
    elements = [ elements ];
  }

  // disallow appending as boundary event
  if (source) {
    return false;
  }

  // only (re-)attach one element at a time
  if (elements.length !== 1) {
    return false;
  }

  var element = elements[0];

  // do not attach labels
  if (isLabel(element)) {
    return false;
  }

  // only handle boundary events
  if (!isBoundaryCandidate(element)) {
    return false;
  }

  // allow default move operation
  if (!target) {
    return true;
  }

  // disallow drop on event sub processes
  if (isEventSubProcess(target)) {
    return false;
  }

  // only allow drop on non compensation activities
  if (!is(target, &#x27;bpmn:Activity&#x27;) || isForCompensation(target)) {
    return false;
  }

  // only attach to subprocess border
  if (position &#x26;&#x26; !isBoundaryAttachment(position, target)) {
    return false;
  }

  return &#x27;attach&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (is(shape, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(rootElement, &#x27;bpmn:Process&#x27;)) {
    initParticipantSnapping(context, shape, rootElement.children);
  }
});


function canAttach(shape, target, position) {
  return bpmnRules.<span class="apidocCodeKeywordSpan">canAttach</span>([ shape ], target, null, position) === &#x27;attach&#x27
;;
}

function canConnect(source, target) {
  return bpmnRules.canConnect(source, target);
}

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnect" id="apidoc.element.bpmn-js.BpmnRules.prototype.canConnect">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnect
        <span class="apidocSignatureSpan">(source, target, connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canConnect(source, target, connection) {

  if (nonExistantOrLabel(source) || nonExistantOrLabel(target)) {
    return null;
  }

  // See https://github.com/bpmn-io/bpmn-js/issues/178
  // as a workround we disallow connections with same
  // target and source element.
  // This rule must be removed if a auto layout for this
  // connections is implemented.
  if (isSame(source, target)) {
    return false;
  }

  if (!is(connection, &#x27;bpmn:DataAssociation&#x27;)) {

    if (canConnectMessageFlow(source, target)) {
      return { type: &#x27;bpmn:MessageFlow&#x27; };
    }

    if (canConnectSequenceFlow(source, target)) {
      return { type: &#x27;bpmn:SequenceFlow&#x27; };
    }
  }

  var connectDataAssociation = canConnectDataAssociation(source, target);

  if (connectDataAssociation) {
    return connectDataAssociation;
  }

  if (isCompensationBoundary(source) &#x26;&#x26; isForCompensation(target)) {
    return {
      type: &#x27;bpmn:Association&#x27;,
      associationDirection: &#x27;One&#x27;
    };
  }

  if (is(connection, &#x27;bpmn:Association&#x27;) &#x26;&#x26; canConnectAssociation(source, target)) {

    return {
      type: &#x27;bpmn:Association&#x27;
    };
  }

  if (isTextAnnotation(source) || isTextAnnotation(target)) {

    return {
      type: &#x27;bpmn:Association&#x27;
    };
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  target = createdElements[descriptor.target];

  if (source &#x26;&#x26; target) {
    source = source.element;
    target = target.element;
  }

  canConnect = bpmnRules.<span class="apidocCodeKeywordSpan">canConnect</span>(source, target);

  if (canConnect) {
    descriptor.type = canConnect.type;
  }
}

businessObject = descriptor.businessObject;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectAssociation" id="apidoc.element.bpmn-js.BpmnRules.prototype.canConnectAssociation">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectAssociation
        <span class="apidocSignatureSpan">(source, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canConnectAssociation(source, target) {

  // do not connect connections
  if (isConnection(source) || isConnection(target)) {
    return false;
  }

  // connect if different parent
  return !isParent(target, source) &#x26;&#x26;
         !isParent(source, target);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectDataAssociation" id="apidoc.element.bpmn-js.BpmnRules.prototype.canConnectDataAssociation">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectDataAssociation
        <span class="apidocSignatureSpan">(source, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canConnectDataAssociation(source, target) {

  if (isAny(source, [ &#x27;bpmn:DataObjectReference&#x27;, &#x27;bpmn:DataStoreReference&#x27; ]) &#x26;&#x26;
      isAny(target, [ &#x27;bpmn:Activity&#x27;, &#x27;bpmn:ThrowEvent&#x27; ])) {
    return { type: &#x27;bpmn:DataInputAssociation&#x27; };
  }

  if (isAny(target, [ &#x27;bpmn:DataObjectReference&#x27;, &#x27;bpmn:DataStoreReference&#x27; ]) &#x26;&#x26;
      isAny(source, [ &#x27;bpmn:Activity&#x27;, &#x27;bpmn:CatchEvent&#x27; ])) {
    return { type: &#x27;bpmn:DataOutputAssociation&#x27; };
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectMessageFlow" id="apidoc.element.bpmn-js.BpmnRules.prototype.canConnectMessageFlow">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectMessageFlow
        <span class="apidocSignatureSpan">(source, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canConnectMessageFlow(source, target) {

  return isMessageFlowSource(source) &#x26;&#x26;
         isMessageFlowTarget(target) &#x26;&#x26;
        !isSameOrganization(source, target);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canConnectSequenceFlow" id="apidoc.element.bpmn-js.BpmnRules.prototype.canConnectSequenceFlow">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canConnectSequenceFlow
        <span class="apidocSignatureSpan">(source, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canConnectSequenceFlow(source, target) {

  return isSequenceFlowSource(source) &#x26;&#x26;
         isSequenceFlowTarget(target) &#x26;&#x26;
         isSameScope(source, target) &#x26;&#x26;
         !(is(source, &#x27;bpmn:EventBasedGateway&#x27;) &#x26;&#x26; !isEventBasedTarget(target));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canCopy" id="apidoc.element.bpmn-js.BpmnRules.prototype.canCopy">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canCopy
        <span class="apidocSignatureSpan">(collection, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canCopy(collection, element) {
  if (is(element, &#x27;bpmn:Lane&#x27;) &#x26;&#x26; !contains(collection, element.parent)) {
    return false;
  }

  if (is(element, &#x27;bpmn:BoundaryEvent&#x27;) &#x26;&#x26; !contains(collection, element.host)) {
    return false;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canCreate" id="apidoc.element.bpmn-js.BpmnRules.prototype.canCreate">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canCreate
        <span class="apidocSignatureSpan">(shape, target, source, position)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canCreate(shape, target, source, position) {

  if (!target) {
    return false;
  }

  if (isLabel(target)) {
    return null;
  }

  if (isSame(source, target)) {
    return false;
  }

  // ensure we do not drop the element
  // into source
  if (source &#x26;&#x26; isParent(source, target)) {
    return false;
  }

  return canDrop(shape, target, position) || canInsert(shape, target, position);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canDrop" id="apidoc.element.bpmn-js.BpmnRules.prototype.canDrop">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canDrop
        <span class="apidocSignatureSpan">(element, target, position)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canDrop(element, target, position) {

  // can move labels everywhere
  if (isLabel(element) &#x26;&#x26; !isConnection(target)) {
    return true;
  }

  // disallow to create elements on collapsed pools
  if (is(target, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; !isExpanded(target)) {
    return false;
  }

  // allow to create new participants on
  // on existing collaboration and process diagrams
  if (is(element, &#x27;bpmn:Participant&#x27;)) {
    return is(target, &#x27;bpmn:Process&#x27;) || is(target, &#x27;bpmn:Collaboration&#x27;);
  }

  // allow creating lanes on participants and other lanes only
  if (is(element, &#x27;bpmn:Lane&#x27;)) {
    return is(target, &#x27;bpmn:Participant&#x27;) || is(target, &#x27;bpmn:Lane&#x27;);
  }

  if (is(element, &#x27;bpmn:BoundaryEvent&#x27;)) {
    return false;
  }

  // drop flow elements onto flow element containers
  // and participants
  if (is(element, &#x27;bpmn:FlowElement&#x27;)) {
    if (is(target, &#x27;bpmn:FlowElementsContainer&#x27;)) {
      return isExpanded(target);
    }

    return isAny(target, [ &#x27;bpmn:Participant&#x27;, &#x27;bpmn:Lane&#x27; ]);
  }

  // account for the fact that data associations are always
  // rendered and moved to top (Process or Collaboration level)
  //
  // artifacts may be placed wherever, too
  if (isAny(element, [ &#x27;bpmn:Artifact&#x27;, &#x27;bpmn:DataAssociation&#x27; ])) {
    return isAny(target, [
      &#x27;bpmn:Collaboration&#x27;,
      &#x27;bpmn:Lane&#x27;,
      &#x27;bpmn:Participant&#x27;,
      &#x27;bpmn:Process&#x27;,
      &#x27;bpmn:SubProcess&#x27; ]);
  }

  if (is(element, &#x27;bpmn:MessageFlow&#x27;)) {
    return is(target, &#x27;bpmn:Collaboration&#x27;)
      || element.source.parent == target
      || element.target.parent == target;
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canInsert" id="apidoc.element.bpmn-js.BpmnRules.prototype.canInsert">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canInsert
        <span class="apidocSignatureSpan">(shape, flow, position)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canInsert(shape, flow, position) {

  if (Array.isArray(shape)) {
    if (shape.length !== 1) {
      return false;
    }

    shape = shape[0];
  }

  // return true if we can drop on the
  // underlying flow parent
  //
  // at this point we are not really able to talk
  // about connection rules (yet)

  return (
    isAny(flow, [ &#x27;bpmn:SequenceFlow&#x27;, &#x27;bpmn:MessageFlow&#x27; ]) &#x26;&#x26;
    !isLabel(flow) &#x26;&#x26;
    is(shape, &#x27;bpmn:FlowNode&#x27;) &#x26;&#x26;
    !is(shape, &#x27;bpmn:BoundaryEvent&#x27;) &#x26;&#x26;
    canDrop(shape, flow.parent, position));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canMove" id="apidoc.element.bpmn-js.BpmnRules.prototype.canMove">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canMove
        <span class="apidocSignatureSpan">(elements, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canMove(elements, target) {

  // do not move selection containing boundary events
  if (any(elements, isBoundaryEvent)) {
    return false;
  }

  // do not move selection containing lanes
  if (any(elements, isLane)) {
    return false;
  }

  // allow default move check to start move operation
  if (!target) {
    return true;
  }

  return elements.every(function(element) {
    return canDrop(element, target);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canReplace" id="apidoc.element.bpmn-js.BpmnRules.prototype.canReplace">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canReplace
        <span class="apidocSignatureSpan">(elements, target, position)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canReplace(elements, target, position) {

  if (!target) {
    return false;
  }

  var canExecute = {
    replacements: []
  };

  forEach(elements, function(element) {

    if (!isEventSubProcess(target)) {

      if (is(element, &#x27;bpmn:StartEvent&#x27;) &#x26;&#x26;
          element.type !== &#x27;label&#x27; &#x26;&#x26;
          canDrop(element, target)) {

        // replace a non-interrupting start event by a blank interrupting start event
        // when the target is not an event sub process
        if (!isInterrupting(element)) {
          canExecute.replacements.push({
            oldElementId: element.id,
            newElementType: &#x27;bpmn:StartEvent&#x27;
          });
        }

        // replace an error/escalation/compansate start event by a blank interrupting start event
        // when the target is not an event sub process
        if (hasErrorEventDefinition(element) ||
            hasEscalationEventDefinition(element) ||
            hasCompensateEventDefinition(element)) {
          canExecute.replacements.push({
            oldElementId: element.id,
            newElementType: &#x27;bpmn:StartEvent&#x27;
          });
        }
      }
    }

    if (!is(target, &#x27;bpmn:Transaction&#x27;)) {
      if (hasEventDefinition(element, &#x27;bpmn:CancelEventDefinition&#x27;) &#x26;&#x26;
          element.type !== &#x27;label&#x27;) {

        if (is(element, &#x27;bpmn:EndEvent&#x27;) &#x26;&#x26; canDrop(element, target)) {
          canExecute.replacements.push({
            oldElementId: element.id,
            newElementType: &#x27;bpmn:EndEvent&#x27;
          });
        }

        if (is(element, &#x27;bpmn:BoundaryEvent&#x27;) &#x26;&#x26; canAttach(element, target, null, position)) {
          canExecute.replacements.push({
            oldElementId: element.id,
            newElementType: &#x27;bpmn:BoundaryEvent&#x27;
          });
        }
      }
    }
  });

  return canExecute.replacements.length ? canExecute : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.canResize" id="apidoc.element.bpmn-js.BpmnRules.prototype.canResize">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>canResize
        <span class="apidocSignatureSpan">(shape, newBounds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canResize(shape, newBounds) {
  if (is(shape, &#x27;bpmn:SubProcess&#x27;)) {
    return (!!isExpanded(shape)) &#x26;&#x26; (
          !newBounds || (newBounds.width &#x3e;= 100 &#x26;&#x26; newBounds.height &#x3e;= 80)
    );
  }

  if (is(shape, &#x27;bpmn:Lane&#x27;)) {
    return !newBounds || (newBounds.width &#x3e;= 130 &#x26;&#x26; newBounds.height &#x3e;= 60);
  }

  if (is(shape, &#x27;bpmn:Participant&#x27;)) {
    return !newBounds || (newBounds.width &#x3e;= 250 &#x26;&#x26; newBounds.height &#x3e;= 50);
  }

  if (isTextAnnotation(shape)) {
    return true;
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnRules.prototype.init" id="apidoc.element.bpmn-js.BpmnRules.prototype.init">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnRules.prototype.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function () {

  this.addRule(&#x27;connection.create&#x27;, function(context) {
    var source = context.source,
        target = context.target;

    return canConnect(source, target);
  });

  this.addRule(&#x27;connection.reconnectStart&#x27;, function(context) {

    var connection = context.connection,
        source = context.hover || context.source,
        target = connection.target;

    return canConnect(source, target, connection);
  });

  this.addRule(&#x27;connection.reconnectEnd&#x27;, function(context) {

    var connection = context.connection,
        source = connection.source,
        target = context.hover || context.target;

    return canConnect(source, target, connection);
  });

  this.addRule(&#x27;connection.updateWaypoints&#x27;, function(context) {
    // OK! but visually ignore
    return null;
  });

  this.addRule(&#x27;shape.resize&#x27;, function(context) {

    var shape = context.shape,
        newBounds = context.newBounds;

    return canResize(shape, newBounds);
  });

  this.addRule(&#x27;elements.move&#x27;, function(context) {

    var target = context.target,
        shapes = context.shapes,
        position = context.position;

    return canAttach(shapes, target, null, position) ||
           canReplace(shapes, target, position) ||
           canMove(shapes, target, position) ||
           canInsert(shapes, target, position);
  });

  this.addRule([ &#x27;shape.create&#x27;, &#x27;shape.append&#x27; ], function(context) {
    var target = context.target,
        shape = context.shape,
        source = context.source,
        position = context.position;

    return canAttach([ shape ], target, source, position) || canCreate(shape, target, source, position);
  });

  this.addRule(&#x27;element.copy&#x27;, function(context) {
    var collection = context.collection,
        element = context.element;

    return canCopy(collection, element);
  });

  this.addRule(&#x27;element.paste&#x27;, function(context) {
    var parent = context.parent,
        element = context.element,
        position = context.position,
        source = context.source,
        target = context.target;

    if (source || target) {
      return canConnect(source, target);
    }

    return canAttach([ element ], parent, null, position) || canCreate(element, parent, null, position);
  });

  this.addRule(&#x27;elements.paste&#x27;, function(context) {
    var tree = context.tree,
        target = context.target;

    return canPaste(tree, target);
  });

  this.addRule([ &#x27;elements.delete&#x27; ], function(context) {

    // do not allow deletion of labels
    return filter(context.elements, function(e) {
      return !isLabel(e);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    clientY: position.y,
    offsetX: position.x,
    offsetY: position.y
  }, data || {});

  var event = new EventBus.Event();

  event.<span class="apidocCodeKeywordSpan">init</span>(data);

  return event;
}

module.exports.createEvent = createEvent;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnSearchProvider" id="apidoc.module.bpmn-js.BpmnSearchProvider">module bpmn-js.BpmnSearchProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSearchProvider.BpmnSearchProvider" id="apidoc.element.bpmn-js.BpmnSearchProvider.BpmnSearchProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSearchProvider
        <span class="apidocSignatureSpan">(elementRegistry, searchPad, canvas)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnSearchProvider(elementRegistry, searchPad, canvas) {

  this._elementRegistry = elementRegistry;
  this._canvas = canvas;

  searchPad.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnSearchProvider.prototype" id="apidoc.module.bpmn-js.BpmnSearchProvider.prototype">module bpmn-js.BpmnSearchProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSearchProvider.prototype.find" id="apidoc.element.bpmn-js.BpmnSearchProvider.prototype.find">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSearchProvider.prototype.</span>find
        <span class="apidocSignatureSpan">(pattern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (pattern) {
  var rootElement = this._canvas.getRootElement();

  var elements = this._elementRegistry.filter(function(element) {
    if (element.labelTarget) {
      return false;
    }
    return true;
  });

  // do not include root element
  elements = filter(elements, function(element) {
    return element !== rootElement;
  });

  elements = map(elements, function(element) {
    return {
      primaryTokens: matchAndSplit(labelUtil.getLabel(element), pattern),
      secondaryTokens: matchAndSplit(element.id, pattern),
      element: element
    };
  });

  // exclude non-matched elements
  elements = filter(elements, function(element) {
    return hasMatched(element.primaryTokens) || hasMatched(element.secondaryTokens);
  });

  elements = sortBy(elements, function(element) {
    return labelUtil.getLabel(element.element) + element.element.id;
  });

  return elements;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnSnapping" id="apidoc.module.bpmn-js.BpmnSnapping">module bpmn-js.BpmnSnapping</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnapping.BpmnSnapping" id="apidoc.element.bpmn-js.BpmnSnapping.BpmnSnapping">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnSnapping
        <span class="apidocSignatureSpan">(eventBus, canvas, bpmnRules, elementRegistry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnSnapping(eventBus, canvas, bpmnRules, elementRegistry) {

  // instantiate super
  Snapping.call(this, eventBus, canvas);


<span class="apidocCodeCommentSpan">  /**
   * Drop participant on process &#x3c;&#x3e; process elements snapping
   */
</span>  eventBus.on(&#x27;create.start&#x27;, function(event) {

    var context = event.context,
        shape = context.shape,
        rootElement = canvas.getRootElement();

    // snap participant around existing elements (if any)
    if (is(shape, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(rootElement, &#x27;bpmn:Process&#x27;)) {
      initParticipantSnapping(context, shape, rootElement.children);
    }
  });

  eventBus.on([ &#x27;create.move&#x27;, &#x27;create.end&#x27; ], HIGH_PRIORITY, function(event) {

    var context = event.context,
        shape = context.shape,
        participantSnapBox = context.participantSnapBox;

    if (!isSnapped(event) &#x26;&#x26; participantSnapBox) {
      snapParticipant(participantSnapBox, shape, event);
    }
  });

  eventBus.on(&#x27;shape.move.start&#x27;, function(event) {

    var context = event.context,
        shape = context.shape,
        rootElement = canvas.getRootElement();

    // snap participant around existing elements (if any)
    if (is(shape, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; is(rootElement, &#x27;bpmn:Process&#x27;)) {
      initParticipantSnapping(context, shape, rootElement.children);
    }
  });


  function canAttach(shape, target, position) {
    return bpmnRules.canAttach([ shape ], target, null, position) === &#x27;attach&#x27;;
  }

  function canConnect(source, target) {
    return bpmnRules.canConnect(source, target);
  }

  /**
   * Snap boundary events to elements border
   */
  eventBus.on([
    &#x27;create.move&#x27;,
    &#x27;create.end&#x27;,
    &#x27;shape.move.move&#x27;,
    &#x27;shape.move.end&#x27;
  ], HIGH_PRIORITY, function(event) {

    var context = event.context,
        target = context.target,
        shape = context.shape;

    if (target &#x26;&#x26; !isSnapped(event) &#x26;&#x26; canAttach(shape, target, event)) {
      snapBoundaryEvent(event, shape, target);
    }
  });

  /**
   * Adjust parent for flowElements to the target participant
   * when droping onto lanes.
   */
  eventBus.on([
    &#x27;shape.move.hover&#x27;,
    &#x27;shape.move.move&#x27;,
    &#x27;shape.move.end&#x27;,
    &#x27;create.hover&#x27;,
    &#x27;create.move&#x27;,
    &#x27;create.end&#x27;
  ], HIGH_PRIORITY, function(event) {
    var context = event.context,
        shape = context.shape,
        hover = event.hover;

    if (is(hover, &#x27;bpmn:Lane&#x27;) &#x26;&#x26; !isAny(shape, [ &#x27;bpmn:Lane&#x27;, &#x27;bpmn:Participant&#x27; ])) {
      event.hover = getLanesRoot(hover);
      event.hoverGfx = elementRegistry.getGraphics(event.hover);
    }
  });

  /**
   * Snap sequence flows.
   */
  eventBus.on([
    &#x27;connect.move&#x27;,
    &#x27;connect.hover&#x27;,
    &#x27;connect.end&#x27;
  ], HIGH_PRIORITY, function(event) {
    var context = event.context,
        source = context.source,
        target = context.target;

    var connection = canConnect(source, target) || {};

    if (!context.initialSourcePosition) {
      context.initialSourcePosition = context.sourcePosition;
    }

    if (target &#x26;&#x26; connection.type === &#x27;bpmn:SequenceFlow&#x27;) {

      // snap source
      context.sourcePosition = mid(source);

      // snap target
      assign(event, mid(target));
    } else {

      // otherwise reset source snap
      context.sourcePosition = context.initialSourcePosition;
    }

  });


  eventBus.on([
    &#x27;create.move&#x27;,
    &#x27;shape.move.move&#x27;
  ], function(event) {

    var context = event.context,
        shape = context.shape,
        target = context.target;

    var threshold = 30;

    if (is(shape, &#x27;bpmn:Lane&#x27;)) {
      if (isAny(target, [ &#x27;bpmn:Lane&#x27;, &#x27;bpmn:Participant&#x27; ])) {

        var childLanes = filter(target.children, function(c) {
          return is(c, &#x27;bpmn:Lane&#x27;);
        });

        var y = event.y,
            targetTrbl;

        var insert = childLanes.reduce(function(insert, l) {

          var laneTrbl = asTRBL(l);

          if (abs(laneTrbl.top - y) &#x3c; threshold) {
            insert = assign(insert || {}, { before: { element: l, y: laneTrbl.top } });
          } else
          if (abs(laneTrbl.bottom - y) &#x3c; threshold) {
            insert = assign(insert || {}, { after: { element: ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnapping.super_" id="apidoc.element.bpmn-js.BpmnSnapping.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.</span>super_
        <span class="apidocSignatureSpan">(eventBus, canvas)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Snapping(eventBus, canvas) {

  this._canvas = canvas;

  var self = this;

  eventBus.on([ &#x27;shape.move.start&#x27;, &#x27;create.start&#x27; ], function(event) {
    self.initSnap(event);
  });

  eventBus.on([ &#x27;shape.move.move&#x27;, &#x27;shape.move.end&#x27;, &#x27;create.move&#x27;, &#x27;create.end&#x27; ], HIGHER_PRIORITY, function(event) {

    if (event.originalEvent &#x26;&#x26; event.originalEvent.ctrlKey) {
      return;
    }

    if (isSnapped(event)) {
      return;
    }

    self.snap(event);
  });

  eventBus.on([ &#x27;shape.move.cleanup&#x27;, &#x27;create.cleanup&#x27; ], function(event) {
    self.hide();
  });

  // delay hide by 1000 seconds since last match
  this._asyncHide = debounce(this.hide, 1000);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnSnapping.prototype" id="apidoc.module.bpmn-js.BpmnSnapping.prototype">module bpmn-js.BpmnSnapping.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnapping.prototype.addTargetSnaps" id="apidoc.element.bpmn-js.BpmnSnapping.prototype.addTargetSnaps">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.prototype.</span>addTargetSnaps
        <span class="apidocSignatureSpan">(snapPoints, shape, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTargetSnaps = function (snapPoints, shape, target) {

  // use target parent as snap target
  if (is(shape, &#x27;bpmn:BoundaryEvent&#x27;) &#x26;&#x26; shape.type !== &#x27;label&#x27;) {
    target = target.parent;
  }

  // add sequence flow parents as snap targets
  if (is(target, &#x27;bpmn:SequenceFlow&#x27;)) {
    this.addTargetSnaps(snapPoints, shape, target.parent);
  }

  var siblings = this.getSiblings(shape, target) || [];

  forEach(siblings, function(s) {

    // do not snap to lanes
    if (is(s, &#x27;bpmn:Lane&#x27;)) {
      return;
    }

    snapPoints.add(&#x27;mid&#x27;, mid(s));

    if (is(s, &#x27;bpmn:Participant&#x27;)) {
      snapPoints.add(&#x27;top-left&#x27;, topLeft(s));
      snapPoints.add(&#x27;bottom-right&#x27;, bottomRight(s));
    }
  });


  forEach(shape.incoming, function(c) {

    if (siblings.indexOf(c.source) === -1) {
      snapPoints.add(&#x27;mid&#x27;, mid(c.source));
    }

    var docking = c.waypoints[0];
    snapPoints.add(c.id + &#x27;-docking&#x27;, docking.original || docking);
  });


  forEach(shape.outgoing, function(c) {

    if (siblings.indexOf(c.target) === -1) {
      snapPoints.add(&#x27;mid&#x27;, mid(c.target));
    }

    var docking = c.waypoints[c.waypoints.length - 1];
    snapPoints.add(c.id + &#x27;-docking&#x27;, docking.original || docking);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // use target parent as snap target
  if (is(shape, &#x27;bpmn:BoundaryEvent&#x27;) &#x26;&#x26; shape.type !== &#x27;label&#x27;) {
target = target.parent;
  }

  // add sequence flow parents as snap targets
  if (is(target, &#x27;bpmn:SequenceFlow&#x27;)) {
this.<span class="apidocCodeKeywordSpan">addTargetSnaps</span>(snapPoints, shape, target.parent);
  }

  var siblings = this.getSiblings(shape, target) || [];

  forEach(siblings, function(s) {

// do not snap to lanes
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnapping.prototype.initSnap" id="apidoc.element.bpmn-js.BpmnSnapping.prototype.initSnap">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSnapping.prototype.</span>initSnap
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initSnap = function (event) {

  var context = event.context,
      shape = event.shape,
      shapeMid,
      shapeBounds,
      shapeTopLeft,
      shapeBottomRight,
      snapContext;


  snapContext = Snapping.prototype.initSnap.call(this, event);

  if (is(shape, &#x27;bpmn:Participant&#x27;)) {
    // assign higher priority for outer snaps on participants
    snapContext.setSnapLocations([ &#x27;top-left&#x27;, &#x27;bottom-right&#x27;, &#x27;mid&#x27; ]);
  }


  if (shape) {

    shapeMid = mid(shape, event);

    shapeBounds = {
      width: shape.width,
      height: shape.height,
      x: isNaN(shape.x) ? round(shapeMid.x - shape.width / 2) : shape.x,
      y: isNaN(shape.y) ? round(shapeMid.y - shape.height / 2) : shape.y
    };

    shapeTopLeft = topLeft(shapeBounds);
    shapeBottomRight = bottomRight(shapeBounds);

    snapContext.setSnapOrigin(&#x27;top-left&#x27;, {
      x: shapeTopLeft.x - event.x,
      y: shapeTopLeft.y - event.y
    });

    snapContext.setSnapOrigin(&#x27;bottom-right&#x27;, {
      x: shapeBottomRight.x - event.x,
      y: shapeBottomRight.y - event.y
    });

    forEach(shape.outgoing, function(c) {
      var docking = c.waypoints[0];

      docking = docking.original || docking;

      snapContext.setSnapOrigin(c.id + &#x27;-docking&#x27;, {
        x: docking.x - event.x,
        y: docking.y - event.y
      });
    });

    forEach(shape.incoming, function(c) {
      var docking = c.waypoints[c.waypoints.length - 1];

      docking = docking.original || docking;

      snapContext.setSnapOrigin(c.id + &#x27;-docking&#x27;, {
        x: docking.x - event.x,
        y: docking.y - event.y
      });
    });

  }

  var source = context.source;

  if (source) {
    snapContext.addDefaultSnap(&#x27;mid&#x27;, mid(source));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnSnappingUtil" id="apidoc.module.bpmn-js.BpmnSnappingUtil">module bpmn-js.BpmnSnappingUtil</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnappingUtil.getBoundaryAttachment" id="apidoc.element.bpmn-js.BpmnSnappingUtil.getBoundaryAttachment">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSnappingUtil.</span>getBoundaryAttachment
        <span class="apidocSignatureSpan">(position, targetBounds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getBoundaryAttachment(position, targetBounds) {

  var orientation = getOrientation(position, targetBounds, -15);

  if (orientation !== &#x27;intersect&#x27;) {
    return orientation;
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnSnappingUtil.getParticipantSizeConstraints" id="apidoc.element.bpmn-js.BpmnSnappingUtil.getParticipantSizeConstraints">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnSnappingUtil.</span>getParticipantSizeConstraints
        <span class="apidocSignatureSpan">(laneShape, resizeDirection, balanced)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getParticipantSizeConstraints(laneShape, resizeDirection, balanced) {

  var lanesRoot = getLanesRoot(laneShape);

  var isFirst = true,
      isLast = true;

  ///// max top/bottom size for lanes

  var allLanes = collectLanes(lanesRoot, [ lanesRoot ]);

  var laneTrbl = asTRBL(laneShape);

  var maxTrbl = {},
      minTrbl = {};

  if (/e/.test(resizeDirection)) {
    minTrbl.right = laneTrbl.left + LANE_MIN_WIDTH;
  } else
  if (/w/.test(resizeDirection)) {
    minTrbl.left = laneTrbl.right - LANE_MIN_WIDTH;
  }

  allLanes.forEach(function(other) {

    var otherTrbl = asTRBL(other);

    if (/n/.test(resizeDirection)) {

      if (otherTrbl.top &#x3c; (laneTrbl.top - 10)) {
        isFirst = false;
      }

      // max top size (based on next element)
      if (balanced &#x26;&#x26; abs(laneTrbl.top - otherTrbl.bottom) &#x3c; 10) {
        addMax(maxTrbl, &#x27;top&#x27;, otherTrbl.top + LANE_MIN_HEIGHT);
      }

      // min top size (based on self or nested element)
      if (abs(laneTrbl.top - otherTrbl.top) &#x3c; 5) {
        addMin(minTrbl, &#x27;top&#x27;, otherTrbl.bottom - LANE_MIN_HEIGHT);
      }
    }

    if (/s/.test(resizeDirection)) {

      if (otherTrbl.bottom &#x3e; (laneTrbl.bottom + 10)) {
        isLast = false;
      }

      // max bottom size (based on previous element)
      if (balanced &#x26;&#x26; abs(laneTrbl.bottom - otherTrbl.top) &#x3c; 10) {
        addMin(maxTrbl, &#x27;bottom&#x27;, otherTrbl.bottom - LANE_MIN_HEIGHT);
      }

      // min bottom size (based on self or nested element)
      if (abs(laneTrbl.bottom - otherTrbl.bottom) &#x3c; 5) {
        addMax(minTrbl, &#x27;bottom&#x27;, otherTrbl.top + LANE_MIN_HEIGHT);
      }
    }
  });


  ///// max top/bottom/left/right size based on flow nodes

  var flowElements = lanesRoot.children.filter(function(s) {
    return !s.hidden &#x26;&#x26; !s.waypoints &#x26;&#x26; (is(s, &#x27;bpmn:FlowElement&#x27;) || is(s, &#x27;bpmn:Artifact&#x27;));
  });

  flowElements.forEach(function(flowElement) {

    var flowElementTrbl = asTRBL(flowElement);

    if (isFirst &#x26;&#x26; /n/.test(resizeDirection)) {
      addMin(minTrbl, &#x27;top&#x27;, flowElementTrbl.top - LANE_TOP_PADDING);
    }

    if (/e/.test(resizeDirection)) {
      addMax(minTrbl, &#x27;right&#x27;, flowElementTrbl.right + LANE_RIGHT_PADDING);
    }

    if (isLast &#x26;&#x26; /s/.test(resizeDirection)) {
      addMax(minTrbl, &#x27;bottom&#x27;, flowElementTrbl.bottom + LANE_BOTTOM_PADDING);
    }

    if (/w/.test(resizeDirection)) {
      addMin(minTrbl, &#x27;left&#x27;, flowElementTrbl.left - LANE_LEFT_PADDING);
    }
  });


  return {
    min: minTrbl,
    max: maxTrbl
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnUpdater" id="apidoc.module.bpmn-js.BpmnUpdater">module bpmn-js.BpmnUpdater</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.BpmnUpdater" id="apidoc.element.bpmn-js.BpmnUpdater.BpmnUpdater">
        function <span class="apidocSignatureSpan">bpmn-js.</span>BpmnUpdater
        <span class="apidocSignatureSpan">(eventBus, bpmnFactory, connectionDocking, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BpmnUpdater(eventBus, bpmnFactory, connectionDocking, translate) {

  CommandInterceptor.call(this, eventBus);

  this._bpmnFactory = bpmnFactory;
  this._translate = translate;

  var self = this;



  ////// connection cropping /////////////////////////

  // crop connection ends during create/update
  function cropConnection(e) {
    var context = e.context,
        connection;

    if (!context.cropped) {
      connection = context.connection;
      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);
      context.cropped = true;
    }
  }

  this.executed([
    &#x27;connection.layout&#x27;,
    &#x27;connection.create&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], cropConnection);

  this.reverted([ &#x27;connection.layout&#x27; ], function(e) {
    delete e.context.cropped;
  });



  ////// BPMN + DI update /////////////////////////


  // update parent
  function updateParent(e) {
    var context = e.context;

    self.updateParent(context.shape || context.connection, context.oldParent);
  }

  function reverseUpdateParent(e) {
    var context = e.context;

    var element = context.shape || context.connection,
        // oldParent is the (old) new parent, because we are undoing
        oldParent = context.parent || context.newParent;

    self.updateParent(element, oldParent);
  }

  this.executed([ &#x27;shape.move&#x27;,
                  &#x27;shape.create&#x27;,
                  &#x27;shape.delete&#x27;,
                  &#x27;connection.create&#x27;,
                  &#x27;connection.move&#x27;,
                  &#x27;connection.delete&#x27; ], ifBpmn(updateParent));

  this.reverted([ &#x27;shape.move&#x27;,
                  &#x27;shape.create&#x27;,
                  &#x27;shape.delete&#x27;,
                  &#x27;connection.create&#x27;,
                  &#x27;connection.move&#x27;,
                  &#x27;connection.delete&#x27; ], ifBpmn(reverseUpdateParent));

<span class="apidocCodeCommentSpan">  /*
   * ## Updating Parent
   *
   * When morphing a Process into a Collaboration or vice-versa,
   * make sure that both the *semantic* and *di* parent of each element
   * is updated.
   *
   */
</span>  function updateRoot(event) {
    var context = event.context,
        oldRoot = context.oldRoot,
        children = oldRoot.children;

    forEach(children, function(child) {
      if (is(child, &#x27;bpmn:BaseElement&#x27;)) {
        self.updateParent(child);
      }
    });
  }

  this.executed([ &#x27;canvas.updateRoot&#x27; ], updateRoot);
  this.reverted([ &#x27;canvas.updateRoot&#x27; ], updateRoot);


  // update bounds
  function updateBounds(e) {
    var shape = e.context.shape;

    if (!is(shape, &#x27;bpmn:BaseElement&#x27;)) {
      return;
    }

    self.updateBounds(shape);
  }

  this.executed([ &#x27;shape.move&#x27;, &#x27;shape.create&#x27;, &#x27;shape.resize&#x27; ], ifBpmn(function(event) {

    // exclude labels because they&#x27;re handled separately during shape.changed
    if (event.context.shape.type === &#x27;label&#x27;) {
      return;
    }

    updateBounds(event);
  }));

  this.reverted([ &#x27;shape.move&#x27;, &#x27;shape.create&#x27;, &#x27;shape.resize&#x27; ], ifBpmn(function(event) {

    // exclude labels because they&#x27;re handled separately during shape.changed
    if (event.context.shape.type === &#x27;label&#x27;) {
      return;
    }

    updateBounds(event);
  }));

  // Handle labels separately. This is necessary, because the label bounds have to be updated
  // every time its shape changes, not only on move, create and resize.
  eventBus.on(&#x27;shape.changed&#x27;, function(event) {
    if (event.element.type === &#x27;label&#x27;) {
      updateBounds({ context: { shape: event.element } });
    }
  });

  // attach / detach connection
  function updateConnection(e) {
    self.updateConnection(e.context);
  }

  this.executed([
    &#x27;connection.create&#x27;,
    &#x27;connection.move&#x27;,
    &#x27;connection.delete&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], ifBpmn(updateConnection));

  this.reverted([
    &#x27;connection.create&#x27;,
    &#x27;connection.move&#x27;,
    &#x27;connection.delete&#x27;,
    &#x27;connection.reconnectEnd&#x27;,
    &#x27;connection.reconnectStart&#x27;
  ], ifBpmn(updateConnection));


  // update waypoints
  function updateConnectionWaypoints(e) {
    self.updateConnectionWaypoints(e.context.connection);
  }

  this.executed([ ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.super_" id="apidoc.element.bpmn-js.BpmnUpdater.super_">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.</span>super_
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CommandInterceptor(eventBus) {
  this._eventBus = eventBus;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.BpmnUpdater.prototype" id="apidoc.module.bpmn-js.BpmnUpdater.prototype">module bpmn-js.BpmnUpdater.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype._getLabel" id="apidoc.element.bpmn-js.BpmnUpdater.prototype._getLabel">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>_getLabel
        <span class="apidocSignatureSpan">(di)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getLabel = function (di) {
  if (!di.label) {
    di.label = this._bpmnFactory.createDiLabel();
  }

  return di.label;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};


BpmnUpdater.prototype.updateBounds = function(shape) {

var di = shape.businessObject.di;

var bounds = (shape instanceof Model.Label) ? this.<span class="apidocCodeKeywordSpan">_getLabel</span>(di).bounds : di.bounds;

assign(bounds, {
  x: shape.x,
  y: shape.y,
  width: shape.width,
  height: shape.height
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.getLaneSet" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.getLaneSet">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>getLaneSet
        <span class="apidocSignatureSpan">(container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLaneSet = function (container) {

  var laneSet, laneSets;

  // bpmn:Lane
  if (is(container, &#x27;bpmn:Lane&#x27;)) {
    laneSet = container.childLaneSet;

    if (!laneSet) {
      laneSet = this._bpmnFactory.create(&#x27;bpmn:LaneSet&#x27;);
      container.childLaneSet = laneSet;
      laneSet.$parent = container;
    }

    return laneSet;
  }

  // bpmn:Participant
  if (is(container, &#x27;bpmn:Participant&#x27;)) {
    container = container.processRef;
  }

  // bpmn:FlowElementsContainer
  laneSets = container.get(&#x27;laneSets&#x27;);
  laneSet = laneSets[0];

  if (!laneSet) {
    laneSet = this._bpmnFactory.create(&#x27;bpmn:LaneSet&#x27;);
    laneSet.$parent = container;
    laneSets.push(laneSet);
  }

  return laneSet;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (businessObject.$parent === newParent) {
  return;
}

if (is(businessObject, &#x27;bpmn:Lane&#x27;)) {

  if (newParent) {
    newParent = this.<span class="apidocCodeKeywordSpan">getLaneSet</span>(newParent);
  }

  containment = &#x27;lanes&#x27;;
} else

if (is(businessObject, &#x27;bpmn:FlowElement&#x27;)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateAttachment" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateAttachment">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateAttachment
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateAttachment = function (context) {

  var shape = context.shape,
      businessObject = shape.businessObject,
      host = shape.host;

  businessObject.attachedToRef = host &#x26;&#x26; host.businessObject;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (context.conditionExpression &#x26;&#x26; is(newSource, &#x27;bpmn:Activity&#x27;)) {
      businessObject.conditionExpression = context.conditionExpression;
    }
  }));

  // update attachments
  function updateAttachment(e) {
    self.<span class="apidocCodeKeywordSpan">updateAttachment</span>(e.context);
  }

  this.executed([ &#x27;element.updateAttachment&#x27; ], ifBpmn(updateAttachment));
  this.reverted([ &#x27;element.updateAttachment&#x27; ], ifBpmn(updateAttachment));
}

inherits(BpmnUpdater, CommandInterceptor);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateBounds" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateBounds">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateBounds
        <span class="apidocSignatureSpan">(shape)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateBounds = function (shape) {

  var di = shape.businessObject.di;

  var bounds = (shape instanceof Model.Label) ? this._getLabel(di).bounds : di.bounds;

  assign(bounds, {
    x: shape.x,
    y: shape.y,
    width: shape.width,
    height: shape.height
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  function updateBounds(e) {
var shape = e.context.shape;

if (!is(shape, &#x27;bpmn:BaseElement&#x27;)) {
  return;
}

self.<span class="apidocCodeKeywordSpan">updateBounds</span>(shape);
  }

  this.executed([ &#x27;shape.move&#x27;, &#x27;shape.create&#x27;, &#x27;shape.resize&#x27; ], ifBpmn(function(event) {

// exclude labels because they&#x27;re handled separately during shape.changed
if (event.context.shape.type === &#x27;label&#x27;) {
  return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnection" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnection">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateConnection
        <span class="apidocSignatureSpan">(context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateConnection = function (context) {

  var connection = context.connection,
      businessObject = getBusinessObject(connection),
      newSource = getBusinessObject(connection.source),
      newTarget = getBusinessObject(connection.target),
      visualParent;

  if (!is(businessObject, &#x27;bpmn:DataAssociation&#x27;)) {

    var inverseSet = is(businessObject, &#x27;bpmn:SequenceFlow&#x27;);

    if (businessObject.sourceRef !== newSource) {
      if (inverseSet) {
        Collections.remove(businessObject.sourceRef &#x26;&#x26; businessObject.sourceRef.get(&#x27;outgoing&#x27;), businessObject);

        if (newSource &#x26;&#x26; newSource.get(&#x27;outgoing&#x27;)) {
          newSource.get(&#x27;outgoing&#x27;).push(businessObject);
        }
      }

      businessObject.sourceRef = newSource;
    }

    if (businessObject.targetRef !== newTarget) {
      if (inverseSet) {
        Collections.remove(businessObject.targetRef &#x26;&#x26; businessObject.targetRef.get(&#x27;incoming&#x27;), businessObject);

        if (newTarget &#x26;&#x26; newTarget.get(&#x27;incoming&#x27;)) {
          newTarget.get(&#x27;incoming&#x27;).push(businessObject);
        }
      }

      businessObject.targetRef = newTarget;
    }
  } else

  if (is(businessObject, &#x27;bpmn:DataInputAssociation&#x27;)) {
    // handle obnoxious isMany sourceRef
    businessObject.get(&#x27;sourceRef&#x27;)[0] = newSource;

    visualParent = context.parent || context.newParent || newTarget;

    this.updateSemanticParent(businessObject, newTarget, parent.businessObject);
  } else

  if (is(businessObject, &#x27;bpmn:DataOutputAssociation&#x27;)) {
    visualParent = context.parent || context.newParent || newSource;

    this.updateSemanticParent(businessObject, newSource, visualParent);

    // targetRef = new target
    businessObject.targetRef = newTarget;
  }

  this.updateConnectionWaypoints(connection);

  this.updateDiConnection(businessObject.di, newSource, newTarget);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (event.element.type === &#x27;label&#x27;) {
    updateBounds({ context: { shape: event.element } });
  }
});

// attach / detach connection
function updateConnection(e) {
  self.<span class="apidocCodeKeywordSpan">updateConnection</span>(e.context);
}

this.executed([
  &#x27;connection.create&#x27;,
  &#x27;connection.move&#x27;,
  &#x27;connection.delete&#x27;,
  &#x27;connection.reconnectEnd&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnectionWaypoints" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateConnectionWaypoints">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateConnectionWaypoints
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateConnectionWaypoints = function (connection) {
  connection.businessObject.di.set(&#x27;waypoint&#x27;, this._bpmnFactory.createDiWaypoints(connection.waypoints));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  &#x27;connection.reconnectEnd&#x27;,
  &#x27;connection.reconnectStart&#x27;
], ifBpmn(updateConnection));


// update waypoints
function updateConnectionWaypoints(e) {
  self.<span class="apidocCodeKeywordSpan">updateConnectionWaypoints</span>(e.context.connection);
}

this.executed([
  &#x27;connection.layout&#x27;,
  &#x27;connection.move&#x27;,
  &#x27;connection.updateWaypoints&#x27;,
  &#x27;connection.reconnectEnd&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiConnection" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiConnection">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateDiConnection
        <span class="apidocSignatureSpan">(di, newSource, newTarget)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateDiConnection = function (di, newSource, newTarget) {

  if (di.sourceElement &#x26;&#x26; di.sourceElement.bpmnElement !== newSource) {
    di.sourceElement = newSource &#x26;&#x26; newSource.di;
  }

  if (di.targetElement &#x26;&#x26; di.targetElement.bpmnElement !== newTarget) {
    di.targetElement = newTarget &#x26;&#x26; newTarget.di;
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // targetRef = new target
  businessObject.targetRef = newTarget;
}

this.updateConnectionWaypoints(connection);

this.<span class="apidocCodeKeywordSpan">updateDiConnection</span>(businessObject.di, newSource, newTarget);
};


/////// helpers /////////////////////////////////////////

BpmnUpdater.prototype._getLabel = function(di) {
if (!di.label) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiParent" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateDiParent">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateDiParent
        <span class="apidocSignatureSpan">(di, parentDi)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateDiParent = function (di, parentDi) {

  if (parentDi &#x26;&#x26; !is(parentDi, &#x27;bpmndi:BPMNPlane&#x27;)) {
    parentDi = parentDi.$parent;
  }

  if (di.$parent === parentDi) {
    return;
  }

  var planeElements = (parentDi || di.$parent).get(&#x27;planeElement&#x27;);

  if (parentDi) {
    planeElements.push(di);
    di.$parent = parentDi;
  } else {
    Collections.remove(planeElements, di);
    di.$parent = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.updateSemanticParent(businessObject, parentBusinessObject);

if (is(element, &#x27;bpmn:DataObjectReference&#x27;) &#x26;&#x26; businessObject.dataObjectRef) {
  this.updateSemanticParent(businessObject.dataObjectRef, parentBusinessObject);
}

this.<span class="apidocCodeKeywordSpan">updateDiParent</span>(businessObject.di, parentDi);
};


BpmnUpdater.prototype.updateBounds = function(shape) {

var di = shape.businessObject.di;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateFlowNodeRefs" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateFlowNodeRefs">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateFlowNodeRefs
        <span class="apidocSignatureSpan">(businessObject, newContainment, oldContainment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateFlowNodeRefs = function (businessObject, newContainment, oldContainment) {

  if (oldContainment === newContainment) {
    return;
  }

  var oldRefs, newRefs;

  if (is (oldContainment, &#x27;bpmn:Lane&#x27;)) {
    oldRefs = oldContainment.get(&#x27;flowNodeRef&#x27;);
    Collections.remove(oldRefs, businessObject);
  }

  if (is(newContainment, &#x27;bpmn:Lane&#x27;)) {
    newRefs = newContainment.get(&#x27;flowNodeRef&#x27;);
    Collections.add(newRefs, businessObject);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var parentShape = element.parent;

var businessObject = element.businessObject,
    parentBusinessObject = parentShape &#x26;&#x26; parentShape.businessObject,
    parentDi = parentBusinessObject &#x26;&#x26; parentBusinessObject.di;

if (is(element, &#x27;bpmn:FlowNode&#x27;)) {
  this.<span class="apidocCodeKeywordSpan">updateFlowNodeRefs</span>(businessObject, parentBusinessObject, oldParent &#x26;&#x26
; oldParent.businessObject);
}

if (is(element, &#x27;bpmn:DataOutputAssociation&#x27;)) {
  if (element.source) {
    parentBusinessObject = element.source.businessObject;
  } else {
    parentBusinessObject = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateParent" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateParent">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateParent
        <span class="apidocSignatureSpan">(element, oldParent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateParent = function (element, oldParent) {
  // do not update BPMN 2.0 label parent
  if (element instanceof Model.Label) {
    return;
  }

  var parentShape = element.parent;

  var businessObject = element.businessObject,
      parentBusinessObject = parentShape &#x26;&#x26; parentShape.businessObject,
      parentDi = parentBusinessObject &#x26;&#x26; parentBusinessObject.di;

  if (is(element, &#x27;bpmn:FlowNode&#x27;)) {
    this.updateFlowNodeRefs(businessObject, parentBusinessObject, oldParent &#x26;&#x26; oldParent.businessObject);
  }

  if (is(element, &#x27;bpmn:DataOutputAssociation&#x27;)) {
    if (element.source) {
      parentBusinessObject = element.source.businessObject;
    } else {
      parentBusinessObject = null;
    }
  }

  if (is(element, &#x27;bpmn:DataInputAssociation&#x27;)) {
    if (element.target) {
      parentBusinessObject = element.target.businessObject;
    } else {
      parentBusinessObject = null;
    }
  }

  this.updateSemanticParent(businessObject, parentBusinessObject);

  if (is(element, &#x27;bpmn:DataObjectReference&#x27;) &#x26;&#x26; businessObject.dataObjectRef) {
    this.updateSemanticParent(businessObject.dataObjectRef, parentBusinessObject);
  }

  this.updateDiParent(businessObject.di, parentDi);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ////// BPMN + DI update /////////////////////////


  // update parent
  function updateParent(e) {
var context = e.context;

self.<span class="apidocCodeKeywordSpan">updateParent</span>(context.shape || context.connection, context.oldParent);
  }

  function reverseUpdateParent(e) {
var context = e.context;

var element = context.shape || context.connection,
    // oldParent is the (old) new parent, because we are undoing
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.BpmnUpdater.prototype.updateSemanticParent" id="apidoc.element.bpmn-js.BpmnUpdater.prototype.updateSemanticParent">
        function <span class="apidocSignatureSpan">bpmn-js.BpmnUpdater.prototype.</span>updateSemanticParent
        <span class="apidocSignatureSpan">(businessObject, newParent, visualParent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateSemanticParent = function (businessObject, newParent, visualParent) {

  var containment,
      translate = this._translate;

  if (businessObject.$parent === newParent) {
    return;
  }

  if (is(businessObject, &#x27;bpmn:Lane&#x27;)) {

    if (newParent) {
      newParent = this.getLaneSet(newParent);
    }

    containment = &#x27;lanes&#x27;;
  } else

  if (is(businessObject, &#x27;bpmn:FlowElement&#x27;)) {

    if (newParent) {

      if (is(newParent, &#x27;bpmn:Participant&#x27;)) {
        newParent = newParent.processRef;
      } else

      if (is(newParent, &#x27;bpmn:Lane&#x27;)) {
        do {
          // unwrap Lane -&#x3e; LaneSet -&#x3e; (Lane | FlowElementsContainer)
          newParent = newParent.$parent.$parent;
        } while (is(newParent, &#x27;bpmn:Lane&#x27;));

      }
    }

    containment = &#x27;flowElements&#x27;;

  } else

  if (is(businessObject, &#x27;bpmn:Artifact&#x27;)) {

    while (newParent &#x26;&#x26;
           !is(newParent, &#x27;bpmn:Process&#x27;) &#x26;&#x26;
           !is(newParent, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26;
           !is(newParent, &#x27;bpmn:Collaboration&#x27;)) {

      if (is(newParent, &#x27;bpmn:Participant&#x27;)) {
        newParent = newParent.processRef;
        break;
      } else {
        newParent = newParent.$parent;
      }
    }

    containment = &#x27;artifacts&#x27;;
  } else

  if (is(businessObject, &#x27;bpmn:MessageFlow&#x27;)) {
    containment = &#x27;messageFlows&#x27;;

  } else

  if (is(businessObject, &#x27;bpmn:Participant&#x27;)) {
    containment = &#x27;participants&#x27;;

    // make sure the participants process is properly attached / detached
    // from the XML document

    var process = businessObject.processRef,
        definitions;

    if (process) {
      definitions = getDefinitions(businessObject.$parent || newParent);

      if (businessObject.$parent) {
        Collections.remove(definitions.get(&#x27;rootElements&#x27;), process);
        process.$parent = null;
      }

      if (newParent) {
        Collections.add(definitions.get(&#x27;rootElements&#x27;), process);
        process.$parent = definitions;
      }
    }
  } else

  if (is(businessObject, &#x27;bpmn:DataOutputAssociation&#x27;)) {
    containment = &#x27;dataOutputAssociations&#x27;;
  } else

  if (is(businessObject, &#x27;bpmn:DataInputAssociation&#x27;)) {
    containment = &#x27;dataInputAssociations&#x27;;
  }

  if (!containment) {
    throw new Error(translate(
      &#x27;no parent for {element} in {parent}&#x27;,
      {
        element: businessObject.id,
        parent: newParent.id
      }
    ));
  }

  var children;

  if (businessObject.$parent) {
    // remove from old parent
    children = businessObject.$parent.get(containment);
    Collections.remove(children, businessObject);
  }

  if (!newParent) {
    businessObject.$parent = null;
  } else {
    // add to new parent
    children = newParent.get(containment);
    children.push(businessObject);
    businessObject.$parent = newParent;
  }

  if (visualParent) {
    var diChildren = visualParent.get(containment);

    Collections.remove(children, businessObject);

    if (newParent) {

      if (!diChildren) {
        diChildren = [];
        newParent.set(containment, diChildren);
      }

      diChildren.push(businessObject);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (element.target) {
      parentBusinessObject = element.target.businessObject;
    } else {
      parentBusinessObject = null;
    }
  }

  this.<span class="apidocCodeKeywordSpan">updateSemanticParent</span>(businessObject, parentBusinessObject);

  if (is(element, &#x27;bpmn:DataObjectReference&#x27;) &#x26;&#x26; businessObject.dataObjectRef) {
    this.updateSemanticParent(businessObject.dataObjectRef, parentBusinessObject);
  }

  this.updateDiParent(businessObject.di, parentDi);
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ContextPadProvider" id="apidoc.module.bpmn-js.ContextPadProvider">module bpmn-js.ContextPadProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ContextPadProvider.ContextPadProvider" id="apidoc.element.bpmn-js.ContextPadProvider.ContextPadProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ContextPadProvider
        <span class="apidocSignatureSpan">(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ContextPadProvider(eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate) {

  contextPad.registerProvider(this);

  this._contextPad = contextPad;

  this._modeling = modeling;

  this._elementFactory = elementFactory;
  this._connect = connect;
  this._create = create;
  this._popupMenu = popupMenu;
  this._canvas  = canvas;
  this._rules = rules;
  this._translate = translate;


  eventBus.on(&#x27;create.end&#x27;, 250, function(event) {
    var shape = event.context.shape;

    if (!hasPrimaryModifier(event)) {
      return;
    }

    var entries = contextPad.getEntries(shape);

    if (entries.replace) {
      entries.replace.action.click(event, shape);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ContextPadProvider.prototype" id="apidoc.module.bpmn-js.ContextPadProvider.prototype">module bpmn-js.ContextPadProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ContextPadProvider.prototype.getContextPadEntries" id="apidoc.element.bpmn-js.ContextPadProvider.prototype.getContextPadEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ContextPadProvider.prototype.</span>getContextPadEntries
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getContextPadEntries = function (element) {

  var contextPad = this._contextPad,
      modeling = this._modeling,

      elementFactory = this._elementFactory,
      connect = this._connect,
      create = this._create,
      popupMenu = this._popupMenu,
      canvas = this._canvas,
      rules = this._rules,

      translate = this._translate;

  var actions = {};

  if (element.type === &#x27;label&#x27;) {
    return actions;
  }

  var businessObject = element.businessObject;

  function startConnect(event, element, autoActivate) {
    connect.start(event, element, autoActivate);
  }

  function removeElement(e) {
    modeling.removeElements([ element ]);
  }

  function getReplaceMenuPosition(element) {

    var Y_OFFSET = 5;

    var diagramContainer = canvas.getContainer(),
        pad = contextPad.getPad(element).html;

    var diagramRect = diagramContainer.getBoundingClientRect(),
        padRect = pad.getBoundingClientRect();

    var top = padRect.top - diagramRect.top;
    var left = padRect.left - diagramRect.left;

    var pos = {
      x: left,
      y: top + padRect.height + Y_OFFSET
    };

    return pos;
  }


<span class="apidocCodeCommentSpan">  /**
   * Create an append action
   *
   * @param {String} type
   * @param {String} className
   * @param {String} [title]
   * @param {Object} [options]
   *
   * @return {Object} descriptor
   */
</span>  function appendAction(type, className, title, options) {

    if (typeof title !== &#x27;string&#x27;) {
      options = title;
      title = translate(&#x27;Append {type}&#x27;, { type: type.replace(/^bpmn\:/, &#x27;&#x27;) });
    }

    function appendListener(event, element) {

      var shape = elementFactory.createShape(assign({ type: type }, options));
      create.start(event, shape, element);
    }

    return {
      group: &#x27;model&#x27;,
      className: className,
      title: title,
      action: {
        dragstart: appendListener,
        click: appendListener
      }
    };
  }

  function splitLaneHandler(count) {

    return function(event, element) {
      // actual split
      modeling.splitLane(element, count);

      // refresh context pad after split to
      // get rid of split icons
      contextPad.open(element, true);
    };
  }


  if (isAny(businessObject, [ &#x27;bpmn:Lane&#x27;, &#x27;bpmn:Participant&#x27; ]) &#x26;&#x26; isExpanded(businessObject)) {

    var childLanes = getChildLanes(element);

    assign(actions, {
      &#x27;lane-insert-above&#x27;: {
        group: &#x27;lane-insert-above&#x27;,
        className: &#x27;bpmn-icon-lane-insert-above&#x27;,
        title: translate(&#x27;Add Lane above&#x27;),
        action: {
          click: function(event, element) {
            modeling.addLane(element, &#x27;top&#x27;);
          }
        }
      }
    });

    if (childLanes.length &#x3c; 2) {

      if (element.height &#x3e;= 120) {
        assign(actions, {
          &#x27;lane-divide-two&#x27;: {
            group: &#x27;lane-divide&#x27;,
            className: &#x27;bpmn-icon-lane-divide-two&#x27;,
            title: translate(&#x27;Divide into two Lanes&#x27;),
            action: {
              click: splitLaneHandler(2)
            }
          }
        });
      }

      if (element.height &#x3e;= 180) {
        assign(actions, {
          &#x27;lane-divide-three&#x27;: {
            group: &#x27;lane-divide&#x27;,
            className: &#x27;bpmn-icon-lane-divide-three&#x27;,
            title: translate(&#x27;Divide into three Lanes&#x27;),
            action: {
              click: splitLaneHandler(3)
            }
          }
        });
      }
    }

    assign(actions, {
      &#x27;lane-insert-below&#x27;: {
        group: &#x27;lane-insert-below&#x27;,
        className: &#x27;bpmn-icon-lane-insert-below&#x27;,
        title: translate(&#x27;Add Lane below&#x27;),
        action: {
          click: function(event, element) {
            modeling.addLane(element, &#x27;bottom&#x27;);
          }
        }
      }
    });

  }

  if (is(businessObject, &#x27;bpmn:FlowNode&#x27;)) {

    if (is(businessObject, &#x27;bpmn:EventBasedGateway&#x27;)) {

      assign(actions, {
        &#x27;append.receive-task&#x27;: appendAction(&#x27;bpmn:ReceiveTask&#x27;, &#x27;bpmn-icon-receive-task&#x27;),
        &#x27;append.message-intermediate-event&#x27;: appendAction(&#x27;bpmn:IntermediateCatchEvent&#x27;,
                                                  &#x27;bpmn-icon-intermediate-event-catch-message&#x27;, ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.DiUtil" id="apidoc.module.bpmn-js.DiUtil">module bpmn-js.DiUtil</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.hasCompensateEventDefinition" id="apidoc.element.bpmn-js.DiUtil.hasCompensateEventDefinition">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasCompensateEventDefinition
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasCompensateEventDefinition = function (element) {
  return hasEventDefinition(element, &#x27;bpmn:CompensateEventDefinition&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.hasErrorEventDefinition" id="apidoc.element.bpmn-js.DiUtil.hasErrorEventDefinition">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasErrorEventDefinition
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasErrorEventDefinition = function (element) {
  return hasEventDefinition(element, &#x27;bpmn:ErrorEventDefinition&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.hasEscalationEventDefinition" id="apidoc.element.bpmn-js.DiUtil.hasEscalationEventDefinition">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasEscalationEventDefinition
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasEscalationEventDefinition = function (element) {
  return hasEventDefinition(element, &#x27;bpmn:EscalationEventDefinition&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.hasEventDefinition" id="apidoc.element.bpmn-js.DiUtil.hasEventDefinition">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>hasEventDefinition
        <span class="apidocSignatureSpan">(element, eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasEventDefinition(element, eventType) {
  var bo = getBusinessObject(element),
      hasEventDefinition = false;

  if (bo.eventDefinitions) {
    forEach(bo.eventDefinitions, function(event) {
      if (is(event, eventType)) {
        hasEventDefinition = true;
      }
    });
  }

  return hasEventDefinition;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.isEventSubProcess" id="apidoc.element.bpmn-js.DiUtil.isEventSubProcess">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isEventSubProcess
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEventSubProcess = function (element) {
  return element &#x26;&#x26; !!getBusinessObject(element).triggeredByEvent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  stroke: getStrokeColor(element)
}, attrs);

var rect = renderer(&#x27;bpmn:Activity&#x27;)(parentGfx, element, attrs);

var expanded = DiUtil.isExpanded(element);

var isEventSubProcess = DiUtil.<span class="apidocCodeKeywordSpan">isEventSubProcess</span>(element);

if (isEventSubProcess) {
  svgAttr(rect, {
    strokeDasharray: &#x27;1,2&#x27;
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.isExpanded" id="apidoc.element.bpmn-js.DiUtil.isExpanded">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isExpanded
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isExpanded = function (element) {

  if (is(element, &#x27;bpmn:CallActivity&#x27;)) {
    return false;
  }

  if (is(element, &#x27;bpmn:SubProcess&#x27;)) {
    return !!getBusinessObject(element).di.isExpanded;
  }

  if (is(element, &#x27;bpmn:Participant&#x27;)) {
    return !!getBusinessObject(element).processRef;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  fillOpacity: 0.95,
  fill: getFillColor(element),
  stroke: getStrokeColor(element)
}, attrs);

var rect = renderer(&#x27;bpmn:Activity&#x27;)(parentGfx, element, attrs);

var expanded = DiUtil.<span class="apidocCodeKeywordSpan">isExpanded</span>(element);

var isEventSubProcess = DiUtil.isEventSubProcess(element);

if (isEventSubProcess) {
  svgAttr(rect, {
    strokeDasharray: &#x27;1,2&#x27;
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.DiUtil.isInterrupting" id="apidoc.element.bpmn-js.DiUtil.isInterrupting">
        function <span class="apidocSignatureSpan">bpmn-js.DiUtil.</span>isInterrupting
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInterrupting = function (element) {
  return element &#x26;&#x26; getBusinessObject(element).isInterrupting !== false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ElementFactory" id="apidoc.module.bpmn-js.ElementFactory">module bpmn-js.ElementFactory</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.ElementFactory" id="apidoc.element.bpmn-js.ElementFactory.ElementFactory">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ElementFactory
        <span class="apidocSignatureSpan">(bpmnFactory, moddle, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementFactory(bpmnFactory, moddle, translate) {
  BaseElementFactory.call(this);

  this._bpmnFactory = bpmnFactory;
  this._moddle = moddle;
  this._translate = translate;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.super_" id="apidoc.element.bpmn-js.ElementFactory.super_">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ElementFactory() {
  this._uid = 12;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ElementFactory.prototype" id="apidoc.module.bpmn-js.ElementFactory.prototype">module bpmn-js.ElementFactory.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.prototype._getDefaultSize" id="apidoc.element.bpmn-js.ElementFactory.prototype._getDefaultSize">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>_getDefaultSize
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getDefaultSize = function (semantic) {

  if (is(semantic, &#x27;bpmn:SubProcess&#x27;)) {

    if (isExpanded(semantic)) {
      return { width: 350, height: 200 };
    } else {
      return { width: 100, height: 80 };
    }
  }

  if (is(semantic, &#x27;bpmn:Task&#x27;)) {
    return { width: 100, height: 80 };
  }

  if (is(semantic, &#x27;bpmn:Gateway&#x27;)) {
    return { width: 50, height: 50 };
  }

  if (is(semantic, &#x27;bpmn:Event&#x27;)) {
    return { width: 36, height: 36 };
  }

  if (is(semantic, &#x27;bpmn:Participant&#x27;)) {
    if (!isExpanded(semantic)) {
      return { width: 400, height: 100 };
    } else {
      return { width: 600, height: 250 };
    }
  }

  if (is(semantic, &#x27;bpmn:Lane&#x27;)) {
    return { width: 400, height: 100 };
  }

  if (is(semantic, &#x27;bpmn:DataObjectReference&#x27;)) {
    return { width: 36, height: 50 };
  }

  if (is(semantic, &#x27;bpmn:DataStoreReference&#x27;)) {
    return { width: 50, height: 50 };
  }

  if (is(semantic, &#x27;bpmn:TextAnnotation&#x27;)) {
    return { width: 100, height: 30 };
  }

  return { width: 100, height: 80 };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  newEventDefinition.$parent = businessObject;
  businessObject.eventDefinitions = eventDefinitions;

  delete attrs.eventDefinitionType;
}

size = this.<span class="apidocCodeKeywordSpan">_getDefaultSize</span>(businessObject);

attrs = assign({
  businessObject: businessObject,
  id: businessObject.id
}, size, attrs);

return this.baseCreate(elementType, attrs);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.prototype.baseCreate" id="apidoc.element.bpmn-js.ElementFactory.prototype.baseCreate">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>baseCreate
        <span class="apidocSignatureSpan">(type, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">baseCreate = function (type, attrs) {

  attrs = assign({}, attrs || {});

  if (!attrs.id) {
    attrs.id = type + &#x27;_&#x27; + (this._uid++);
  }

  return Model.create(type, attrs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;

ElementFactory.prototype.create = function(elementType, attrs) {
// no special magic for labels,
// we assume their businessObjects have already been created
// and wired via attrs
if (elementType === &#x27;label&#x27;) {
  return this.<span class="apidocCodeKeywordSpan">baseCreate</span>(elementType, assign({ type: &#x27;label&#x27; }, LabelUtil.DEFAULT_LABEL_SIZE
, attrs));
}

return this.createBpmnElement(elementType, attrs);
};

ElementFactory.prototype.createBpmnElement = function(elementType, attrs) {
var size,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.prototype.create" id="apidoc.element.bpmn-js.ElementFactory.prototype.create">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>create
        <span class="apidocSignatureSpan">(elementType, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (elementType, attrs) {
  // no special magic for labels,
  // we assume their businessObjects have already been created
  // and wired via attrs
  if (elementType === &#x27;label&#x27;) {
    return this.baseCreate(elementType, assign({ type: &#x27;label&#x27; }, LabelUtil.DEFAULT_LABEL_SIZE, attrs));
  }

  return this.createBpmnElement(elementType, attrs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
  }

  var replaceMenu;

  if (popupMenu._providers[&#x27;bpmn-replace&#x27;]) {
replaceMenu = popupMenu.<span class="apidocCodeKeywordSpan">create</span>(&#x27;bpmn-replace&#x27;, element);
  }

  if (replaceMenu &#x26;&#x26; !replaceMenu.isEmpty()) {

// Replace menu entry
assign(actions, {
  &#x27;replace&#x27;: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.prototype.createBpmnElement" id="apidoc.element.bpmn-js.ElementFactory.prototype.createBpmnElement">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>createBpmnElement
        <span class="apidocSignatureSpan">(elementType, attrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBpmnElement = function (elementType, attrs) {
  var size,
      translate = this._translate;

  attrs = attrs || {};

  var businessObject = attrs.businessObject;

  if (!businessObject) {
    if (!attrs.type) {
      throw new Error(translate(&#x27;no shape type specified&#x27;));
    }

    businessObject = this._bpmnFactory.create(attrs.type);
  }

  if (!businessObject.di) {
    if (elementType === &#x27;root&#x27;) {
      businessObject.di = this._bpmnFactory.createDiPlane(businessObject, [], {
        id: businessObject.id + &#x27;_di&#x27;
      });
    } else
    if (elementType === &#x27;connection&#x27;) {
      businessObject.di = this._bpmnFactory.createDiEdge(businessObject, [], {
        id: businessObject.id + &#x27;_di&#x27;
      });
    } else {
      businessObject.di = this._bpmnFactory.createDiShape(businessObject, {}, {
        id: businessObject.id + &#x27;_di&#x27;
      });
    }
  }

  if (attrs.colors) {
    assign(businessObject.di, attrs.colors);

    delete attrs.colors;
  }

  applyAttributes(businessObject, attrs, [
    &#x27;processRef&#x27;,
    &#x27;isInterrupting&#x27;,
    &#x27;associationDirection&#x27;,
    &#x27;isForCompensation&#x27;
  ]);

  if (attrs.isExpanded) {
    applyAttribute(businessObject.di, attrs, &#x27;isExpanded&#x27;);
  }

  if (is(businessObject, &#x27;bpmn:ExclusiveGateway&#x27;)) {
    businessObject.di.isMarkerVisible = true;
  }

  var eventDefinitions,
      newEventDefinition;

  if (attrs.eventDefinitionType) {
    eventDefinitions = businessObject.get(&#x27;eventDefinitions&#x27;) || [];
    newEventDefinition = this._moddle.create(attrs.eventDefinitionType);

    eventDefinitions.push(newEventDefinition);

    newEventDefinition.$parent = businessObject;
    businessObject.eventDefinitions = eventDefinitions;

    delete attrs.eventDefinitionType;
  }

  size = this._getDefaultSize(businessObject);

  attrs = assign({
    businessObject: businessObject,
    id: businessObject.id
  }, size, attrs);

  return this.baseCreate(elementType, attrs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// no special magic for labels,
// we assume their businessObjects have already been created
// and wired via attrs
if (elementType === &#x27;label&#x27;) {
  return this.baseCreate(elementType, assign({ type: &#x27;label&#x27; }, LabelUtil.DEFAULT_LABEL_SIZE, attrs));
}

return this.<span class="apidocCodeKeywordSpan">createBpmnElement</span>(elementType, attrs);
};

ElementFactory.prototype.createBpmnElement = function(elementType, attrs) {
var size,
    translate = this._translate;

attrs = attrs || {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ElementFactory.prototype.createParticipantShape" id="apidoc.element.bpmn-js.ElementFactory.prototype.createParticipantShape">
        function <span class="apidocSignatureSpan">bpmn-js.ElementFactory.prototype.</span>createParticipantShape
        <span class="apidocSignatureSpan">(collapsed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createParticipantShape = function (collapsed) {

  var attrs = { type: &#x27;bpmn:Participant&#x27; };

  if (!collapsed) {
    attrs.processRef = this._bpmnFactory.create(&#x27;bpmn:Process&#x27;);
  }

  return this.createShape(attrs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      dragstart: createListener,
      click: createListener
    }
  };
}

function createParticipant(event, collapsed) {
  create.start(event, elementFactory.<span class="apidocCodeKeywordSpan">createParticipantShape</span>(collapsed));
}

assign(actions, {
  &#x27;hand-tool&#x27;: {
    group: &#x27;tools&#x27;,
    className: &#x27;bpmn-icon-hand-tool&#x27;,
    title: translate(&#x27;Activate the hand tool&#x27;),
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.Importer" id="apidoc.module.bpmn-js.Importer">module bpmn-js.Importer</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.Importer.importBpmnDiagram" id="apidoc.element.bpmn-js.Importer.importBpmnDiagram">
        function <span class="apidocSignatureSpan">bpmn-js.Importer.</span>importBpmnDiagram
        <span class="apidocSignatureSpan">(diagram, definitions, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function importBpmnDiagram(diagram, definitions, done) {

  var importer = diagram.get(&#x27;bpmnImporter&#x27;),
      eventBus = diagram.get(&#x27;eventBus&#x27;),
      translate = diagram.get(&#x27;translate&#x27;);

  var error,
      warnings = [];

<span class="apidocCodeCommentSpan">  /**
   * Walk the diagram semantically, importing (=drawing)
   * all elements you encounter.
   *
   * @param {ModdleElement} definitions
   */
</span>  function render(definitions) {

    var visitor = {

      root: function(element) {
        return importer.add(element);
      },

      element: function(element, parentShape) {
        return importer.add(element, parentShape);
      },

      error: function(message, context) {
        warnings.push({ message: message, context: context });
      }
    };

    var walker = new BpmnTreeWalker(visitor, translate);

    // traverse BPMN 2.0 document model,
    // starting at definitions
    walker.handleDefinitions(definitions);
  }

  eventBus.fire(&#x27;import.render.start&#x27;, { definitions: definitions });

  try {
    render(definitions);
  } catch (e) {
    error = e;
  }

  eventBus.fire(&#x27;import.render.complete&#x27;, {
    error: error,
    warnings: warnings
  });

  done(error, warnings);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      this.clear();
    }

    // update definitions
    this.definitions = definitions;

    // perform graphical import
    Importer.<span class="apidocCodeKeywordSpan">importBpmnDiagram</span>(this, definitions, done);
  } catch (e) {

    // handle synchronous errors
    done(e);
  }
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.LabelEditingProvider" id="apidoc.module.bpmn-js.LabelEditingProvider">module bpmn-js.LabelEditingProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.LabelEditingProvider.LabelEditingProvider" id="apidoc.element.bpmn-js.LabelEditingProvider.LabelEditingProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>LabelEditingProvider
        <span class="apidocSignatureSpan">(eventBus, canvas, directEditing, commandStack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LabelEditingProvider(eventBus, canvas, directEditing, commandStack) {

  this._canvas = canvas;
  this._commandStack = commandStack;

  directEditing.registerProvider(this);

  commandStack.registerHandler(&#x27;element.updateLabel&#x27;, UpdateLabelHandler);

  // listen to dblclick on non-root elements
  eventBus.on(&#x27;element.dblclick&#x27;, function(event) {
    directEditing.activate(event.element);
  });

  // complete on followup canvas operation
  eventBus.on([ &#x27;element.mousedown&#x27;, &#x27;drag.init&#x27;, &#x27;canvas.viewbox.changed&#x27; ], function(event) {
    directEditing.complete();
  });

  // cancel on command stack changes
  eventBus.on([ &#x27;commandStack.changed&#x27; ], function() {
    directEditing.cancel();
  });


  if (&#x27;ontouchstart&#x27; in document.documentElement) {
    // we deactivate automatic label editing on mobile devices
    // as it breaks the user interaction workflow

    // TODO(nre): we should temporarily focus the edited element here
    // and release the focused viewport after the direct edit operation is finished
  } else {
    eventBus.on(&#x27;create.end&#x27;, 500, function(e) {

      var element = e.shape,
          canExecute = e.context.canExecute;

      if (!canExecute) {
        return;
      }

      if (is(element, &#x27;bpmn:Task&#x27;) || is(element, &#x27;bpmn:TextAnnotation&#x27;) ||
          (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26; !isExpanded(element))) {

        directEditing.activate(element);
      }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.LabelEditingProvider.prototype" id="apidoc.module.bpmn-js.LabelEditingProvider.prototype">module bpmn-js.LabelEditingProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.activate" id="apidoc.element.bpmn-js.LabelEditingProvider.prototype.activate">
        function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>activate
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">activate = function (element) {

  var text = LabelUtil.getLabel(element);

  if (text === undefined) {
    return;
  }

  var properties = this.getEditingBBox(element);

  properties.text = text;

  return properties;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    modeling.setColor(currentSelection, opts);
  }
},
directEditing: function() {
  var currentSelection = selection.get();

  if (currentSelection.length) {
    directEditing.<span class="apidocCodeKeywordSpan">activate</span>(currentSelection[0]);
  }
},
find: function() {
  searchPad.toggle();
},
moveToOrigin: function() {
  var rootElement = canvas.getRootElement(),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.getEditingBBox" id="apidoc.element.bpmn-js.LabelEditingProvider.prototype.getEditingBBox">
        function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>getEditingBBox
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEditingBBox = function (element) {
  var canvas = this._canvas;

  var target = element.label || element;

  var bbox = canvas.getAbsoluteBBox(target);

  var mid = {
    x: bbox.x + bbox.width / 2,
    y: bbox.y + bbox.height / 2
  };

  // default position
  var bounds = { x: bbox.x, y: bbox.y };

  var style = {},
      zoom;

  // adjust for expanded pools AND lanes
  if ((is(element, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; isExpanded(element)) || is(element, &#x27;bpmn:Lane&#x27;)) {

    bounds.width = 150;
    bounds.minHeight = LINE_HEIGHT + PADDING;
    bounds.maxHeight = LINE_HEIGHT * 2 + PADDING;
    bounds.x = bbox.x - bounds.width / 2;
    bounds.y = mid.y - bounds.minHeight / 2;
  }


  // internal labels for tasks and collapsed call activities, sub processes and participants
  if (
    is(element, &#x27;bpmn:Task&#x27;) ||
    (is(element, &#x27;bpmn:CallActivity&#x27;) &#x26;&#x26; !isExpanded(element)) ||
    (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26; !isExpanded(element)) ||
    (is(element, &#x27;bpmn:Participant&#x27;) &#x26;&#x26; !isExpanded(element))
  ) {

    zoom = canvas.zoom();

    // fixed size for internal labels:
    // on high zoom levels: text box size === bbox size
    // on low zoom levels: text box size === bbox size at 100% zoom
    // This ensures minimum bounds at low zoom levels
    if (zoom &#x3e; 1) {
      bounds.width = bbox.width;
      bounds.height = bbox.height;
    } else {
      bounds.width = bbox.width / zoom;
      bounds.height = bbox.height / zoom;
    }

    // centering overlapping text box size at low zoom levels
    if (zoom &#x3c; 1) {
      bounds.x = bbox.x - (bounds.width / 2 - bbox.width / 2);
      bounds.y = bbox.y - (bounds.height / 2 - bbox.height / 2);
    }

  }


  // internal labels for expanded sub processes
  if (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26; isExpanded(element)) {

    bounds.width = element.width;
    bounds.maxHeight = 3 * LINE_HEIGHT + PADDING; // maximum 3 lines
    bounds.x = mid.x - element.width / 2;
  }


  // external labels for events, data elements, gateways and connections
  if (target.labelTarget) {

    bounds.width = 150;
    bounds.minHeight = LINE_HEIGHT + PADDING; // 1 line
    bounds.x = mid.x - bounds.width / 2;
  }


  // text annotations
  if (is(element, &#x27;bpmn:TextAnnotation&#x27;)) {
    bounds.minWidth = 100;
    bounds.height = element.height;

    style.textAlign = &#x27;left&#x27;;
  }

  return { bounds: bounds, style: style };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var text = LabelUtil.getLabel(element);

  if (text === undefined) {
    return;
  }

  var properties = this.<span class="apidocCodeKeywordSpan">getEditingBBox</span>(element);

  properties.text = text;

  return properties;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelEditingProvider.prototype.update" id="apidoc.element.bpmn-js.LabelEditingProvider.prototype.update">
        function <span class="apidocSignatureSpan">bpmn-js.LabelEditingProvider.prototype.</span>update
        <span class="apidocSignatureSpan">(element, newLabel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (element, newLabel) {
  this._commandStack.execute(&#x27;element.updateLabel&#x27;, {
    element: element,
    newLabel: newLabel
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.LabelUtil" id="apidoc.module.bpmn-js.LabelUtil">module bpmn-js.LabelUtil</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.LabelUtil.getExternalLabelBounds" id="apidoc.element.bpmn-js.LabelUtil.getExternalLabelBounds">
        function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getExternalLabelBounds
        <span class="apidocSignatureSpan">(semantic, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getExternalLabelBounds = function (semantic, element) {

  var mid,
      size,
      bounds,
      di = semantic.di,
      label = di.label;

  if (label &#x26;&#x26; label.bounds) {
    bounds = label.bounds;

    size = {
      width: Math.max(DEFAULT_LABEL_SIZE.width, bounds.width),
      height: bounds.height
    };

    mid = {
      x: bounds.x + bounds.width / 2,
      y: bounds.y + bounds.height / 2
    };
  } else {

    mid = getExternalLabelMid(element);

    size = DEFAULT_LABEL_SIZE;
  }

  return assign({
    x: mid.x - size.width / 2,
    y: mid.y - size.height / 2
  }, size);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelUtil.getExternalLabelMid" id="apidoc.element.bpmn-js.LabelUtil.getExternalLabelMid">
        function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getExternalLabelMid
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getExternalLabelMid(element) {

  if (element.waypoints) {
    return getFlowLabelPosition(element.waypoints);
  } else {
    return {
      x: element.x + element.width / 2,
      y: element.y + element.height + DEFAULT_LABEL_SIZE.height / 2
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelUtil.getFlowLabelPosition" id="apidoc.element.bpmn-js.LabelUtil.getFlowLabelPosition">
        function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getFlowLabelPosition
        <span class="apidocSignatureSpan">(waypoints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getFlowLabelPosition(waypoints) {

  // get the waypoints mid
  var mid = waypoints.length / 2 - 1;

  var first = waypoints[Math.floor(mid)];
  var second = waypoints[Math.ceil(mid + 0.01)];

  // get position
  var position = getWaypointsMid(waypoints);

  // calculate angle
  var angle = Math.atan( (second.y - first.y) / (second.x - first.x) );

  var x = position.x,
      y = position.y;

  if ( Math.abs(angle) &#x3c; Math.PI / 2 ) {
    y -= FLOW_LABEL_INDENT;
  } else {
    x += FLOW_LABEL_INDENT;
  }

  return { x: x, y: y };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelUtil.getWaypointsMid" id="apidoc.element.bpmn-js.LabelUtil.getWaypointsMid">
        function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>getWaypointsMid
        <span class="apidocSignatureSpan">(waypoints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getWaypointsMid(waypoints) {

  var mid = waypoints.length / 2 - 1;

  var first = waypoints[Math.floor(mid)];
  var second = waypoints[Math.ceil(mid + 0.01)];

  return {
    x: first.x + (second.x - first.x) / 2,
    y: first.y + (second.y - first.y) / 2
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.LabelUtil.hasExternalLabel" id="apidoc.element.bpmn-js.LabelUtil.hasExternalLabel">
        function <span class="apidocSignatureSpan">bpmn-js.LabelUtil.</span>hasExternalLabel
        <span class="apidocSignatureSpan">(semantic)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasExternalLabel = function (semantic) {
  return is(semantic, &#x27;bpmn:Event&#x27;) ||
         is(semantic, &#x27;bpmn:Gateway&#x27;) ||
         is(semantic, &#x27;bpmn:DataStoreReference&#x27;) ||
         is(semantic, &#x27;bpmn:DataObjectReference&#x27;) ||
         is(semantic, &#x27;bpmn:SequenceFlow&#x27;) ||
         is(semantic, &#x27;bpmn:MessageFlow&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ModelCloneHelper" id="apidoc.module.bpmn-js.ModelCloneHelper">module bpmn-js.ModelCloneHelper</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ModelCloneHelper.ModelCloneHelper" id="apidoc.element.bpmn-js.ModelCloneHelper.ModelCloneHelper">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ModelCloneHelper
        <span class="apidocSignatureSpan">(eventBus)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ModelCloneHelper(eventBus) {
  this._eventBus = eventBus;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ModelCloneHelper.prototype" id="apidoc.module.bpmn-js.ModelCloneHelper.prototype">module bpmn-js.ModelCloneHelper.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ModelCloneHelper.prototype._deepClone" id="apidoc.element.bpmn-js.ModelCloneHelper.prototype._deepClone">
        function <span class="apidocSignatureSpan">bpmn-js.ModelCloneHelper.prototype.</span>_deepClone
        <span class="apidocSignatureSpan">(propertyElement, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _deepClone(propertyElement, context) {
  var eventBus = this._eventBus;

  var newProp = propertyElement.$model.create(propertyElement.$type);

  var properties = filter(Object.keys(propertyElement), function(prop) {
    var descriptor = newProp.$model.getPropertyDescriptor(newProp, prop);

    if (descriptor &#x26;&#x26; (descriptor.isId || descriptor.isReference)) {
      return false;
    }

    // we need to make sure we don&#x27;t clone certain properties
    // which we cannot easily know if they hold references or not
    if (IGNORED_PROPERTIES.indexOf(prop) !== -1) {
      return false;
    }

    // make sure we don&#x27;t copy the type
    return prop !== &#x27;$type&#x27;;
  });

  if (!properties.length) {
    context.hasNestedProperty = true;
  }

  forEach(properties, function(propName) {
    // check if the propertyElement has this property defined
    if (propertyElement[propName] !== undefined &#x26;&#x26;
       (propertyElement[propName].$type || isArray(propertyElement[propName]))) {

      if (isArray(propertyElement[propName])) {
        newProp[propName] = [];

        forEach(propertyElement[propName], function(property) {
          var extProp = propertyElement.$model.getTypeDescriptor(property.$type),
              newDeepProp;

          // we&#x27;re not going to copy undefined types
          if (!extProp) {
            return;
          }

          var canClone = eventBus.fire(&#x27;property.clone&#x27;, {
            newElement: context.newElement,
            refTopLevelProperty: context.refTopLevelProperty,
            propertyDescriptor: extProp
          });

          if (!canClone) {
            // if can clone is &#x27;undefined&#x27; or &#x27;false&#x27;
            // check for the meta information if it is allowed
            if (propertyElement.$type === &#x27;bpmn:ExtensionElements&#x27; &#x26;&#x26;
                extProp.meta &#x26;&#x26; extProp.meta.allowedIn &#x26;&#x26;
                !isAllowedIn(extProp, context.newElement.$type)) {
              return false;
            }
          }

          newDeepProp = this._deepClone(property, context);

          newDeepProp.$parent = newProp;

          if (!newProp[propName]) {
            newProp[propName] = [];
          }

          context.hasNestedProperty = true;

          newProp[propName].push(newDeepProp);
        }, this);

      } else if (propertyElement[propName].$type) {
        newProp[propName] = this._deepClone(propertyElement[propName], context);

        if (newProp[propName]) {
          context.hasNestedProperty = true;

          newProp[propName].$parent = newProp;
        }
      }
    } else {
      context.hasNestedProperty = true;

      // just assign directly if it&#x27;s a value
      newProp[propName] = propertyElement[propName];
    }
  }, this);

  return newProp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (isArray(refElementProp)) {

      forEach(refElementProp, function(extElement) {
var newProp;

context.refTopLevelProperty = extElement;

newProp = this.<span class="apidocCodeKeywordSpan">_deepClone</span>(extElement, context);

if (context.hasNestedProperty) {
  newProp.$parent = newElement;

  newElementProp.push(newProp);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ModelCloneHelper.prototype.clone" id="apidoc.element.bpmn-js.ModelCloneHelper.prototype.clone">
        function <span class="apidocSignatureSpan">bpmn-js.ModelCloneHelper.prototype.</span>clone
        <span class="apidocSignatureSpan">(refElement, newElement, properties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function (refElement, newElement, properties) {
  // hasNestedProperty: property allows us to avoid ending up with empty (xml) tags
  // f.ex: if extensionElements.values is empty, don&#x27;t set it
  var context = {
    newElement: newElement,
    hasNestedProperty: false
  };

  // we want the extensionElements to be cloned last
  // so that they can check certain properties
  properties = sort(properties, function(prop) {
    return prop === &#x27;bpmn:extensionElements&#x27;;
  });

  forEach(properties, function(propName) {
    var refElementProp = refElement.get(propName),
        newElementProp = newElement.get(propName),
        propDescriptor = newElement.$model.getPropertyDescriptor(newElement, propName),
        newProperty, name;

    // we&#x27;re not interested in cloning:
    // - same values from simple types
    // - cloning id&#x27;s
    // - cloning reference elements
    if (newElementProp === refElementProp ||
       (propDescriptor &#x26;&#x26; (propDescriptor.isId || propDescriptor.isReference))) {
      return;
    }

    // if the property is of type &#x27;boolean&#x27;, &#x27;string&#x27;, &#x27;number&#x27; or &#x27;null&#x27;, just set it
    if (isType(refElementProp, [ &#x27;boolean&#x27;, &#x27;string&#x27;, &#x27;number&#x27; ]) || refElementProp === null) {
      newElement.set(propName, refElementProp);

      return;
    }

    if (isArray(refElementProp)) {

      forEach(refElementProp, function(extElement) {
        var newProp;

        context.refTopLevelProperty = extElement;

        newProp = this._deepClone(extElement, context);

        if (context.hasNestedProperty) {
          newProp.$parent = newElement;

          newElementProp.push(newProp);
        }

        context.hasNestedProperty = false;
      }, this);

    } else {
      name = propName.replace(/bpmn:/, &#x27;&#x27;);

      context.refTopLevelProperty = refElementProp;

      newProperty = this._deepClone(refElementProp, context);

      if (context.hasNestedProperty) {
        newElement[name] = newProperty;
      }

      context.hasNestedProperty = false;
    }
  }, this);

  return newElement;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var properties = getProperties(businessObject.$descriptor),
    colors = {};

properties = filter(properties, function(property) {
  return IGNORED_PROPERTIES.indexOf(property.replace(/bpmn:/, &#x27;&#x27;)) === -1;
});

descriptor.businessObject = helper.<span class="apidocCodeKeywordSpan">clone</span>(businessObject, newBusinessObject, properties
);

descriptor.type = element.type;

setProperties(descriptor, businessObject.di, [ &#x27;isExpanded&#x27; ]);

setProperties(colors, businessObject.di, [ &#x27;fill&#x27;, &#x27;stroke&#x27; ]);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ModelCloneUtils" id="apidoc.module.bpmn-js.ModelCloneUtils">module bpmn-js.ModelCloneUtils</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ModelCloneUtils.getProperties" id="apidoc.element.bpmn-js.ModelCloneUtils.getProperties">
        function <span class="apidocSignatureSpan">bpmn-js.ModelCloneUtils.</span>getProperties
        <span class="apidocSignatureSpan">(descriptor, keepDefault)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getProperties(descriptor, keepDefault) {
  var properties = [];

  forEach(descriptor.properties, function(property) {

    if (keepDefault &#x26;&#x26; property.default) {
      return;
    }

    properties.push(property.ns.name);
  });

  return properties;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ModelUtil" id="apidoc.module.bpmn-js.ModelUtil">module bpmn-js.ModelUtil</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ModelUtil.getBusinessObject" id="apidoc.element.bpmn-js.ModelUtil.getBusinessObject">
        function <span class="apidocSignatureSpan">bpmn-js.ModelUtil.</span>getBusinessObject
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getBusinessObject(element) {
  return (element &#x26;&#x26; element.businessObject) || element;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ModelUtil.is" id="apidoc.element.bpmn-js.ModelUtil.is">
        function <span class="apidocSignatureSpan">bpmn-js.ModelUtil.</span>is
        <span class="apidocSignatureSpan">(element, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function is(element, type) {
  var bo = getBusinessObject(element);

  return bo &#x26;&#x26; (typeof bo.$instanceOf === &#x27;function&#x27;) &#x26;&#x26; bo.$instanceOf(type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.Modeling" id="apidoc.module.bpmn-js.Modeling">module bpmn-js.Modeling</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.Modeling" id="apidoc.element.bpmn-js.Modeling.Modeling">
        function <span class="apidocSignatureSpan">bpmn-js.</span>Modeling
        <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack, bpmnRules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Modeling(eventBus, elementFactory, commandStack, bpmnRules) {
  BaseModeling.call(this, eventBus, elementFactory, commandStack);

  this._bpmnRules = bpmnRules;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.super_" id="apidoc.element.bpmn-js.Modeling.super_">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.</span>super_
        <span class="apidocSignatureSpan">(eventBus, elementFactory, commandStack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Modeling(eventBus, elementFactory, commandStack) {
  this._eventBus = eventBus;
  this._elementFactory = elementFactory;
  this._commandStack = commandStack;

  var self = this;

  eventBus.on(&#x27;diagram.init&#x27;, function() {
    // register modeling handlers
    self.registerHandlers(commandStack);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.Modeling.prototype" id="apidoc.module.bpmn-js.Modeling.prototype">module bpmn-js.Modeling.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.addLane" id="apidoc.element.bpmn-js.Modeling.prototype.addLane">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>addLane
        <span class="apidocSignatureSpan">(targetLaneShape, location)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addLane = function (targetLaneShape, location) {
  var context = {
    shape: targetLaneShape,
    location: location
  };

  this._commandStack.execute(&#x27;lane.add&#x27;, context);

  return context.newLane;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
assign(actions, {
  &#x27;lane-insert-above&#x27;: {
    group: &#x27;lane-insert-above&#x27;,
    className: &#x27;bpmn-icon-lane-insert-above&#x27;,
    title: translate(&#x27;Add Lane above&#x27;),
    action: {
      click: function(event, element) {
        modeling.<span class="apidocCodeKeywordSpan">addLane</span>(element, &#x27;top&#x27;);
      }
    }
  }
});

if (childLanes.length &#x3c; 2) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.claimId" id="apidoc.element.bpmn-js.Modeling.prototype.claimId">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>claimId
        <span class="apidocSignatureSpan">(id, moddleElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">claimId = function (id, moddleElement) {
  this._commandStack.execute(&#x27;id.updateClaim&#x27;, {
    id: id,
    element: moddleElement,
    claiming: true
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.connect" id="apidoc.element.bpmn-js.Modeling.prototype.connect">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>connect
        <span class="apidocSignatureSpan">(source, target, attrs, hints)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (source, target, attrs, hints) {

  var bpmnRules = this._bpmnRules;

  if (!attrs) {
    attrs = bpmnRules.canConnect(source, target) || { type: &#x27;bpmn:Association&#x27; };
  }

  return this.createConnection(source, target, attrs, source.parent, hints);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.getHandlers" id="apidoc.element.bpmn-js.Modeling.prototype.getHandlers">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>getHandlers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHandlers = function () {
  var handlers = BaseModeling.prototype.getHandlers.call(this);

  handlers[&#x27;element.updateProperties&#x27;] = UpdatePropertiesHandler;
  handlers[&#x27;canvas.updateRoot&#x27;] = UpdateCanvasRootHandler;
  handlers[&#x27;lane.add&#x27;] = AddLaneHandler;
  handlers[&#x27;lane.resize&#x27;] = ResizeLaneHandler;
  handlers[&#x27;lane.split&#x27;] = SplitLaneHandler;
  handlers[&#x27;lane.updateRefs&#x27;] = UpdateFlowNodeRefsHandler;
  handlers[&#x27;id.updateClaim&#x27;] = IdClaimHandler;
  handlers[&#x27;element.setColor&#x27;] = SetColorHandler;

  return handlers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.makeCollaboration" id="apidoc.element.bpmn-js.Modeling.prototype.makeCollaboration">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>makeCollaboration
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeCollaboration = function () {

  var collaborationElement = this._create(&#x27;root&#x27;, {
    type: &#x27;bpmn:Collaboration&#x27;
  });

  var context = {
    newRoot: collaborationElement
  };

  this._commandStack.execute(&#x27;canvas.updateRoot&#x27;, context);

  return collaborationElement;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.makeProcess" id="apidoc.element.bpmn-js.Modeling.prototype.makeProcess">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>makeProcess
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeProcess = function () {

  var processElement = this._create(&#x27;root&#x27;, {
    type: &#x27;bpmn:Process&#x27;
  });

  var context = {
    newRoot: processElement
  };

  this._commandStack.execute(&#x27;canvas.updateRoot&#x27;, context);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.resizeLane" id="apidoc.element.bpmn-js.Modeling.prototype.resizeLane">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>resizeLane
        <span class="apidocSignatureSpan">(laneShape, newBounds, balanced)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resizeLane = function (laneShape, newBounds, balanced) {
  this._commandStack.execute(&#x27;lane.resize&#x27;, {
    shape: laneShape,
    newBounds: newBounds,
    balanced: balanced
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @param  {djs.model.Shape} target
 * @param  {Object} newBounds
 */
BpmnAutoResize.prototype.resize = function(target, newBounds) {

  if (is(target, &#x27;bpmn:Participant&#x27;)) {
    this._modeling.<span class="apidocCodeKeywordSpan">resizeLane</span>(target, newBounds);
  } else {
    this._modeling.resizeShape(target, newBounds);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.setColor" id="apidoc.element.bpmn-js.Modeling.prototype.setColor">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>setColor
        <span class="apidocSignatureSpan">(elements, colors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setColor = function (elements, colors) {
  if (!elements.length) {
    elements = [ elements ];
  }

  this._commandStack.execute(&#x27;element.setColor&#x27;, {
    elements: elements,
    colors: colors
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  alignElements.trigger(aligneableElements, type);
}
    },
    setColor: function(opts) {
var currentSelection = selection.get();

if (currentSelection.length) {
  modeling.<span class="apidocCodeKeywordSpan">setColor</span>(currentSelection, opts);
}
    },
    directEditing: function() {
var currentSelection = selection.get();

if (currentSelection.length) {
  directEditing.activate(currentSelection[0]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.splitLane" id="apidoc.element.bpmn-js.Modeling.prototype.splitLane">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>splitLane
        <span class="apidocSignatureSpan">(targetLane, count)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">splitLane = function (targetLane, count) {
  this._commandStack.execute(&#x27;lane.split&#x27;, {
    shape: targetLane,
    count: count
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
}

function splitLaneHandler(count) {

  return function(event, element) {
    // actual split
    modeling.<span class="apidocCodeKeywordSpan">splitLane</span>(element, count);

    // refresh context pad after split to
    // get rid of split icons
    contextPad.open(element, true);
  };
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.unclaimId" id="apidoc.element.bpmn-js.Modeling.prototype.unclaimId">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>unclaimId
        <span class="apidocSignatureSpan">(id, moddleElement)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unclaimId = function (id, moddleElement) {
  this._commandStack.execute(&#x27;id.updateClaim&#x27;, {
    id: id,
    element: moddleElement
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.updateLabel" id="apidoc.element.bpmn-js.Modeling.prototype.updateLabel">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateLabel
        <span class="apidocSignatureSpan">(element, newLabel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateLabel = function (element, newLabel) {
  this._commandStack.execute(&#x27;element.updateLabel&#x27;, {
    element: element,
    newLabel: newLabel
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.updateLaneRefs" id="apidoc.element.bpmn-js.Modeling.prototype.updateLaneRefs">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateLaneRefs
        <span class="apidocSignatureSpan">(flowNodeShapes, laneShapes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateLaneRefs = function (flowNodeShapes, laneShapes) {

  this._commandStack.execute(&#x27;lane.updateRefs&#x27;, {
    flowNodeShapes: flowNodeShapes,
    laneShapes: laneShapes
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.Modeling.prototype.updateProperties" id="apidoc.element.bpmn-js.Modeling.prototype.updateProperties">
        function <span class="apidocSignatureSpan">bpmn-js.Modeling.prototype.</span>updateProperties
        <span class="apidocSignatureSpan">(element, properties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateProperties = function (element, properties) {
  this._commandStack.execute(&#x27;element.updateProperties&#x27;, {
    element: element,
    properties: properties
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (businessObject.sourceRef.default !== businessObject &#x26;&#x26;
    (is(businessObject.sourceRef, &#x27;bpmn:ExclusiveGateway&#x27;) ||
     is(businessObject.sourceRef, &#x27;bpmn:InclusiveGateway&#x27;) ||
     is(businessObject.sourceRef, &#x27;bpmn:ComplexGateway&#x27;) ||
     is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;))) {

menuEntries.push(self._createMenuEntry(entry, element, function() {
  modeling.<span class="apidocCodeKeywordSpan">updateProperties</span>(element.source, { default: businessObject });
}));
      }
      break;
    case &#x27;replace-with-conditional-flow&#x27;:
      if (!businessObject.conditionExpression &#x26;&#x26; is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;)) {

menuEntries.push(self._createMenuEntry(entry, element, function() {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.PaletteProvider" id="apidoc.module.bpmn-js.PaletteProvider">module bpmn-js.PaletteProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.PaletteProvider.PaletteProvider" id="apidoc.element.bpmn-js.PaletteProvider.PaletteProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>PaletteProvider
        <span class="apidocSignatureSpan">(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PaletteProvider(palette, create, elementFactory, spaceTool, lassoTool, handTool, globalConnect, translate) {

  this._palette = palette;
  this._create = create;
  this._elementFactory = elementFactory;
  this._spaceTool = spaceTool;
  this._lassoTool = lassoTool;
  this._handTool = handTool;
  this._globalConnect = globalConnect;
  this._translate = translate;

  palette.registerProvider(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.PaletteProvider.prototype" id="apidoc.module.bpmn-js.PaletteProvider.prototype">module bpmn-js.PaletteProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.PaletteProvider.prototype.getPaletteEntries" id="apidoc.element.bpmn-js.PaletteProvider.prototype.getPaletteEntries">
        function <span class="apidocSignatureSpan">bpmn-js.PaletteProvider.prototype.</span>getPaletteEntries
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPaletteEntries = function (element) {

  var actions  = {},
      create = this._create,
      elementFactory = this._elementFactory,
      spaceTool = this._spaceTool,
      lassoTool = this._lassoTool,
      handTool = this._handTool,
      globalConnect = this._globalConnect,
      translate = this._translate;

  function createAction(type, group, className, title, options) {

    function createListener(event) {
      var shape = elementFactory.createShape(assign({ type: type }, options));

      if (options) {
        shape.businessObject.di.isExpanded = options.isExpanded;
      }

      create.start(event, shape);
    }

    var shortType = type.replace(/^bpmn\:/, &#x27;&#x27;);

    return {
      group: group,
      className: className,
      title: title || translate(&#x27;Create {type}&#x27;, { type: shortType }),
      action: {
        dragstart: createListener,
        click: createListener
      }
    };
  }

  function createParticipant(event, collapsed) {
    create.start(event, elementFactory.createParticipantShape(collapsed));
  }

  assign(actions, {
    &#x27;hand-tool&#x27;: {
      group: &#x27;tools&#x27;,
      className: &#x27;bpmn-icon-hand-tool&#x27;,
      title: translate(&#x27;Activate the hand tool&#x27;),
      action: {
        click: function(event) {
          handTool.activateHand(event);
        }
      }
    },
    &#x27;lasso-tool&#x27;: {
      group: &#x27;tools&#x27;,
      className: &#x27;bpmn-icon-lasso-tool&#x27;,
      title: translate(&#x27;Activate the lasso tool&#x27;),
      action: {
        click: function(event) {
          lassoTool.activateSelection(event);
        }
      }
    },
    &#x27;space-tool&#x27;: {
      group: &#x27;tools&#x27;,
      className: &#x27;bpmn-icon-space-tool&#x27;,
      title: translate(&#x27;Activate the create/remove space tool&#x27;),
      action: {
        click: function(event) {
          spaceTool.activateSelection(event);
        }
      }
    },
    &#x27;global-connect-tool&#x27;: {
      group: &#x27;tools&#x27;,
      className: &#x27;bpmn-icon-connection-multi&#x27;,
      title: translate(&#x27;Activate the global connect tool&#x27;),
      action: {
        click: function(event) {
          globalConnect.toggle(event);
        }
      }
    },
    &#x27;tool-separator&#x27;: {
      group: &#x27;tools&#x27;,
      separator: true
    },
    &#x27;create.start-event&#x27;: createAction(
      &#x27;bpmn:StartEvent&#x27;, &#x27;event&#x27;, &#x27;bpmn-icon-start-event-none&#x27;
    ),
    &#x27;create.intermediate-event&#x27;: createAction(&#x27;bpmn:IntermediateThrowEvent&#x27;, &#x27;event&#x27;,
      &#x27;bpmn-icon-intermediate-event-none&#x27;, translate(&#x27;Create IntermediateThrowEvent/BoundaryEvent&#x27;)
    ),
    &#x27;create.end-event&#x27;: createAction(
      &#x27;bpmn:EndEvent&#x27;, &#x27;event&#x27;, &#x27;bpmn-icon-end-event-none&#x27;
    ),
    &#x27;create.exclusive-gateway&#x27;: createAction(
      &#x27;bpmn:ExclusiveGateway&#x27;, &#x27;gateway&#x27;, &#x27;bpmn-icon-gateway-xor&#x27;
    ),
    &#x27;create.task&#x27;: createAction(
      &#x27;bpmn:Task&#x27;, &#x27;activity&#x27;, &#x27;bpmn-icon-task&#x27;
    ),
    &#x27;create.data-object&#x27;: createAction(
      &#x27;bpmn:DataObjectReference&#x27;, &#x27;data-object&#x27;, &#x27;bpmn-icon-data-object&#x27;
    ),
    &#x27;create.data-store&#x27;: createAction(
      &#x27;bpmn:DataStoreReference&#x27;, &#x27;data-store&#x27;, &#x27;bpmn-icon-data-store&#x27;
    ),
    &#x27;create.subprocess-expanded&#x27;: createAction(
      &#x27;bpmn:SubProcess&#x27;, &#x27;activity&#x27;, &#x27;bpmn-icon-subprocess-expanded&#x27;, translate(&#x27;Create expanded SubProcess&#x27;),
      { isExpanded: true }
    ),
    &#x27;create.participant-expanded&#x27;: {
      group: &#x27;collaboration&#x27;,
      className: &#x27;bpmn-icon-participant&#x27;,
      title: translate(&#x27;Create Pool/Participant&#x27;),
      action: {
        dragstart: createParticipant,
        click: createParticipant
      }
    }
  });

  return actions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ReplaceMenuProvider" id="apidoc.module.bpmn-js.ReplaceMenuProvider">module bpmn-js.ReplaceMenuProvider</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.ReplaceMenuProvider" id="apidoc.element.bpmn-js.ReplaceMenuProvider.ReplaceMenuProvider">
        function <span class="apidocSignatureSpan">bpmn-js.</span>ReplaceMenuProvider
        <span class="apidocSignatureSpan">(popupMenu, modeling, moddle, bpmnReplace, rules, translate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReplaceMenuProvider(popupMenu, modeling, moddle, bpmnReplace, rules, translate) {

  this._popupMenu = popupMenu;
  this._modeling = modeling;
  this._moddle = moddle;
  this._bpmnReplace = bpmnReplace;
  this._rules = rules;
  this._translate = translate;

  this.register();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.ReplaceMenuProvider.prototype" id="apidoc.module.bpmn-js.ReplaceMenuProvider.prototype">module bpmn-js.ReplaceMenuProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createEntries" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createEntries
        <span class="apidocSignatureSpan">(element, replaceOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createEntries = function (element, replaceOptions) {
  var menuEntries = [];

  var self = this;

  forEach(replaceOptions, function(definition) {
    var entry = self._createMenuEntry(definition, element);

    menuEntries.push(entry);
  });

  return menuEntries;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var differentType = isDifferentType(element);

  // start events outside event sub processes
  if (is(businessObject, &#x27;bpmn:StartEvent&#x27;) &#x26;&#x26; !isEventSubProcess(businessObject.$parent)) {

entries = filter(replaceOptions.START_EVENT, differentType);

return this.<span class="apidocCodeKeywordSpan">_createEntries</span>(element, entries);
  }

  // expanded/collapsed pools
  if (is(businessObject, &#x27;bpmn:Participant&#x27;)) {

entries = filter(replaceOptions.PARTICIPANT, function(entry) {
  return isExpanded(businessObject) !== entry.target.isExpanded;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createMenuEntry" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createMenuEntry">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createMenuEntry
        <span class="apidocSignatureSpan">(definition, element, action)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createMenuEntry = function (definition, element, action) {
  var translate = this._translate;
  var replaceElement = this._bpmnReplace.replaceElement;

  var replaceAction = function() {
    return replaceElement(element, definition.target);
  };

  action = action || replaceAction;

  var menuEntry = {
    label: translate(definition.label),
    className: definition.className,
    id: definition.actionName,
    action: action
  };

  return menuEntry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
ReplaceMenuProvider.prototype._createEntries = function(element, replaceOptions) {
  var menuEntries = [];

  var self = this;

  forEach(replaceOptions, function(definition) {
    var entry = self.<span class="apidocCodeKeywordSpan">_createMenuEntry</span>(definition, element);

    menuEntries.push(entry);
  });

  return menuEntries;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createSequenceFlowEntries" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._createSequenceFlowEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_createSequenceFlowEntries
        <span class="apidocSignatureSpan">(element, replaceOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createSequenceFlowEntries = function (element, replaceOptions) {

  var businessObject = getBusinessObject(element);

  var menuEntries = [];

  var modeling = this._modeling,
      moddle = this._moddle;

  var self = this;

  forEach(replaceOptions, function(entry) {

    switch (entry.actionName) {
    case &#x27;replace-with-default-flow&#x27;:
      if (businessObject.sourceRef.default !== businessObject &#x26;&#x26;
            (is(businessObject.sourceRef, &#x27;bpmn:ExclusiveGateway&#x27;) ||
             is(businessObject.sourceRef, &#x27;bpmn:InclusiveGateway&#x27;) ||
             is(businessObject.sourceRef, &#x27;bpmn:ComplexGateway&#x27;) ||
             is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;))) {

        menuEntries.push(self._createMenuEntry(entry, element, function() {
          modeling.updateProperties(element.source, { default: businessObject });
        }));
      }
      break;
    case &#x27;replace-with-conditional-flow&#x27;:
      if (!businessObject.conditionExpression &#x26;&#x26; is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;)) {

        menuEntries.push(self._createMenuEntry(entry, element, function() {
          var conditionExpression = moddle.create(&#x27;bpmn:FormalExpression&#x27;, { body: &#x27;&#x27; });

          modeling.updateProperties(element, { conditionExpression: conditionExpression });
        }));
      }
      break;
    default:
        // default flows
      if (is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;) &#x26;&#x26; businessObject.conditionExpression) {
        return menuEntries.push(self._createMenuEntry(entry, element, function() {
          modeling.updateProperties(element, { conditionExpression: undefined });
        }));
      }
        // conditional flows
      if ((is(businessObject.sourceRef, &#x27;bpmn:ExclusiveGateway&#x27;) ||
           is(businessObject.sourceRef, &#x27;bpmn:InclusiveGateway&#x27;) ||
           is(businessObject.sourceRef, &#x27;bpmn:ComplexGateway&#x27;) ||
           is(businessObject.sourceRef, &#x27;bpmn:Activity&#x27;)) &#x26;&#x26;
           businessObject.sourceRef.default === businessObject) {

        return menuEntries.push(self._createMenuEntry(entry, element, function() {
          modeling.updateProperties(element.source, { default: undefined });
        }));
      }
    }
  });

  return menuEntries;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

return this._createEntries(element, entries);
  }

  // sequence flows
  if (is(businessObject, &#x27;bpmn:SequenceFlow&#x27;)) {
return this.<span class="apidocCodeKeywordSpan">_createSequenceFlowEntries</span>(element, replaceOptions.SEQUENCE_FLOW);
  }

  // flow nodes
  if (is(businessObject, &#x27;bpmn:FlowNode&#x27;)) {
entries = filter(replaceOptions.TASK, differentType);

// collapsed SubProcess can not be replaced with itself
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getAdHocEntry" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getAdHocEntry">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_getAdHocEntry
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getAdHocEntry = function (element) {
  var translate = this._translate;
  var businessObject = getBusinessObject(element);

  var isAdHoc = is(businessObject, &#x27;bpmn:AdHocSubProcess&#x27;);

  var replaceElement = this._bpmnReplace.replaceElement;

  var adHocEntry = {
    id: &#x27;toggle-adhoc&#x27;,
    className: &#x27;bpmn-icon-ad-hoc-marker&#x27;,
    title: translate(&#x27;Ad-hoc&#x27;),
    active: isAdHoc,
    action: function(event, entry) {
      if (isAdHoc) {
        return replaceElement(element, { type: &#x27;bpmn:SubProcess&#x27; });
      } else {
        return replaceElement(element, { type: &#x27;bpmn:AdHocSubProcess&#x27; });
      }
    }
  };

  return adHocEntry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (is(element, &#x27;bpmn:Activity&#x27;) &#x26;&#x26; !isEventSubProcess(element)) {
    headerEntries = headerEntries.concat(this._getLoopEntries(element));
  }

  if (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26;
      !is(element, &#x27;bpmn:Transaction&#x27;) &#x26;&#x26;
      !isEventSubProcess(element)) {
    headerEntries.push(this.<span class="apidocCodeKeywordSpan">_getAdHocEntry</span>(element));
  }

  return headerEntries;
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getLoopEntries" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype._getLoopEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>_getLoopEntries
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getLoopEntries = function (element) {

  var self = this;
  var translate = this._translate;

  function toggleLoopEntry(event, entry) {
    var loopCharacteristics;

    if (entry.active) {
      loopCharacteristics = undefined;
    } else {
      loopCharacteristics = self._moddle.create(entry.options.loopCharacteristics);

      if (entry.options.isSequential) {
        loopCharacteristics.isSequential = entry.options.isSequential;
      }
    }
    self._modeling.updateProperties(element, { loopCharacteristics: loopCharacteristics });
  }

  var businessObject = getBusinessObject(element),
      loopCharacteristics = businessObject.loopCharacteristics;

  var isSequential,
      isLoop,
      isParallel;

  if (loopCharacteristics) {
    isSequential = loopCharacteristics.isSequential;
    isLoop = loopCharacteristics.isSequential === undefined;
    isParallel = loopCharacteristics.isSequential !== undefined &#x26;&#x26; !loopCharacteristics.isSequential;
  }


  var loopEntries = [
    {
      id: &#x27;toggle-parallel-mi&#x27;,
      className: &#x27;bpmn-icon-parallel-mi-marker&#x27;,
      title: translate(&#x27;Parallel Multi Instance&#x27;),
      active: isParallel,
      action: toggleLoopEntry,
      options: {
        loopCharacteristics: &#x27;bpmn:MultiInstanceLoopCharacteristics&#x27;,
        isSequential: false
      }
    },
    {
      id: &#x27;toggle-sequential-mi&#x27;,
      className: &#x27;bpmn-icon-sequential-mi-marker&#x27;,
      title: translate(&#x27;Sequential Multi Instance&#x27;),
      active: isSequential,
      action: toggleLoopEntry,
      options: {
        loopCharacteristics: &#x27;bpmn:MultiInstanceLoopCharacteristics&#x27;,
        isSequential: true
      }
    },
    {
      id: &#x27;toggle-loop&#x27;,
      className: &#x27;bpmn-icon-loop-marker&#x27;,
      title: translate(&#x27;Loop&#x27;),
      active: isLoop,
      action: toggleLoopEntry,
      options: {
        loopCharacteristics: &#x27;bpmn:StandardLoopCharacteristics&#x27;
      }
    }
  ];
  return loopEntries;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @return {Array&#x3c;Object&#x3e;} a list of menu entry items
 */
ReplaceMenuProvider.prototype.getHeaderEntries = function(element) {

var headerEntries = [];

if (is(element, &#x27;bpmn:Activity&#x27;) &#x26;&#x26; !isEventSubProcess(element)) {
  headerEntries = headerEntries.concat(this.<span class="apidocCodeKeywordSpan">_getLoopEntries</span>(element));
}

if (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26;
    !is(element, &#x27;bpmn:Transaction&#x27;) &#x26;&#x26;
    !isEventSubProcess(element)) {
  headerEntries.push(this._getAdHocEntry(element));
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getEntries" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>getEntries
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEntries = function (element) {

  var businessObject = element.businessObject;

  var rules = this._rules;

  var entries;

  if (!rules.allowed(&#x27;shape.replace&#x27;, { element: element })) {
    return [];
  }

  var differentType = isDifferentType(element);

  // start events outside event sub processes
  if (is(businessObject, &#x27;bpmn:StartEvent&#x27;) &#x26;&#x26; !isEventSubProcess(businessObject.$parent)) {

    entries = filter(replaceOptions.START_EVENT, differentType);

    return this._createEntries(element, entries);
  }

  // expanded/collapsed pools
  if (is(businessObject, &#x27;bpmn:Participant&#x27;)) {

    entries = filter(replaceOptions.PARTICIPANT, function(entry) {
      return isExpanded(businessObject) !== entry.target.isExpanded;
    });

    return this._createEntries(element, entries);
  }

  // start events inside event sub processes
  if (is(businessObject, &#x27;bpmn:StartEvent&#x27;) &#x26;&#x26; isEventSubProcess(businessObject.$parent)) {

    entries = filter(replaceOptions.EVENT_SUB_PROCESS_START_EVENT, function(entry) {

      var target = entry.target;

      var isInterrupting = target.isInterrupting !== false;

      var isInterruptingEqual = getBusinessObject(element).isInterrupting === isInterrupting;

      // filters elements which types and event definition are equal but have have different interrupting types
      return differentType(entry) || !differentType(entry) &#x26;&#x26; !isInterruptingEqual;

    });

    return this._createEntries(element, entries);
  }

  // end events
  if (is(businessObject, &#x27;bpmn:EndEvent&#x27;)) {

    entries = filter(replaceOptions.END_EVENT, function(entry) {
      var target = entry.target;

      // hide cancel end events outside transactions
      if (target.eventDefinitionType == &#x27;bpmn:CancelEventDefinition&#x27; &#x26;&#x26; !is(businessObject.$parent, &#x27;bpmn:Transaction&#x27;)) {
        return false;
      }

      return differentType(entry);
    });

    return this._createEntries(element, entries);
  }

  // boundary events
  if (is(businessObject, &#x27;bpmn:BoundaryEvent&#x27;)) {

    entries = filter(replaceOptions.BOUNDARY_EVENT, function(entry) {

      var target = entry.target;

      if (target.eventDefinition == &#x27;bpmn:CancelEventDefinition&#x27; &#x26;&#x26;
         !is(businessObject.attachedToRef, &#x27;bpmn:Transaction&#x27;)) {
        return false;
      }
      var cancelActivity = target.cancelActivity !== false;

      var isCancelActivityEqual = businessObject.cancelActivity == cancelActivity;

      return differentType(entry) || !differentType(entry) &#x26;&#x26; !isCancelActivityEqual;
    });

    return this._createEntries(element, entries);
  }

  // intermediate events
  if (is(businessObject, &#x27;bpmn:IntermediateCatchEvent&#x27;) ||
      is(businessObject, &#x27;bpmn:IntermediateThrowEvent&#x27;)) {

    entries = filter(replaceOptions.INTERMEDIATE_EVENT, differentType);

    return this._createEntries(element, entries);
  }

  // gateways
  if (is(businessObject, &#x27;bpmn:Gateway&#x27;)) {

    entries = filter(replaceOptions.GATEWAY, differentType);

    return this._createEntries(element, entries);
  }

  // transactions
  if (is(businessObject, &#x27;bpmn:Transaction&#x27;)) {

    entries = filter(replaceOptions.TRANSACTION, differentType);

    return this._createEntries(element, entries);
  }

  // expanded event sub processes
  if (isEventSubProcess(businessObject) &#x26;&#x26; isExpanded(businessObject)) {

    entries = filter(replaceOptions.EVENT_SUB_PROCESS, differentType);

    return this._createEntries(element, entries);
  }

  // expanded sub processes
  if (is(businessObject, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26; isExpanded(businessObject)) {

    entries = filter(replaceOptions.SUBPROCESS_EXPANDED, differentType);

    return this._createEntries(element, entries);
  }

  // collapsed ad hoc sub processes
  if (is(businessObject, &#x27;bpmn:AdHocSubProcess&#x27;) &#x26;&#x26; !isExpanded(businessObject)) {

    entries = filter(replaceOptions.TASK, function(entry) {

      var target = entry.target;

      var isTargetSubProcess = target.type === &#x27;bpmn:SubProcess&#x27;;

      var isTargetExpanded = target.isExpanded === true;

      return isDifferentType(element, target) &#x26;&#x26; ( !isTargetSubProcess || isTargetExpa ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  eventBus.on(&#x27;create.end&#x27;, 250, function(event) {
    var shape = event.context.shape;

    if (!hasPrimaryModifier(event)) {
      return;
    }

    var entries = contextPad.<span class="apidocCodeKeywordSpan">getEntries</span>(shape);

    if (entries.replace) {
      entries.replace.action.click(event, shape);
    }
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getHeaderEntries" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.getHeaderEntries">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>getHeaderEntries
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHeaderEntries = function (element) {

  var headerEntries = [];

  if (is(element, &#x27;bpmn:Activity&#x27;) &#x26;&#x26; !isEventSubProcess(element)) {
    headerEntries = headerEntries.concat(this._getLoopEntries(element));
  }

  if (is(element, &#x27;bpmn:SubProcess&#x27;) &#x26;&#x26;
      !is(element, &#x27;bpmn:Transaction&#x27;) &#x26;&#x26;
      !isEventSubProcess(element)) {
    headerEntries.push(this._getAdHocEntry(element));
  }

  return headerEntries;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.register" id="apidoc.element.bpmn-js.ReplaceMenuProvider.prototype.register">
        function <span class="apidocSignatureSpan">bpmn-js.ReplaceMenuProvider.prototype.</span>register
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">register = function () {
  this._popupMenu.registerProvider(&#x27;bpmn-replace&#x27;, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    alignElements,
    directEditing,
    searchPad,
    modeling) {

  injector.invoke(EditorActions, this);

  this.<span class="apidocCodeKeywordSpan">register</span>({
    selectElements: function() {
// select all elements except for the invisible
// root element
var rootElement = canvas.getRootElement();

var elements = elementRegistry.filter(function(element) {
  return element !== rootElement;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn-js.Util" id="apidoc.module.bpmn-js.Util">module bpmn-js.Util</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn-js.Util.elementToString" id="apidoc.element.bpmn-js.Util.elementToString">
        function <span class="apidocSignatureSpan">bpmn-js.Util.</span>elementToString
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">elementToString = function (e) {
  if (!e) {
    return &#x27;&#x3c;null&#x3e;&#x27;;
  }

  return &#x27;&#x3c;&#x27; + e.$type + (e.id ? &#x27; id=&#x22;&#x27; + e.id : &#x27;&#x27;) + &#x27;&#x22; /&#x3e;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
